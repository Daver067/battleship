(()=>{"use strict";var e={192:(e,n,t)=>{t.d(n,{Z:()=>A});var r=t(537),o=t.n(r),a=t(645),i=t.n(a)()(o());i.push([e.id,'.gridify{margin:auto;width:25vh;height:25vh;display:flex;flex-direction:column}.row{display:flex;width:100%;height:100%}.cell{width:100%;height:100%;border:1px solid #000}.cell:hover{background-color:bisque;cursor:pointer}div[shothere=true]{background-color:red}div[boat=null][shothere=true]::after{background-color:#fff;display:flex;justify-content:center;align-items:center;flex-direction:"row";content:"X";height:100%;width:100%}.moduleBackground{position:absolute;top:0;left:0;width:100vw;height:100vh;background-color:#fff}.moduleBackground h1{color:#000;align-self:center;font-size:5rem;text-align:center;padding:.25em 0}.carrier{display:flex;height:2.5vh;width:12.5vh;background-color:gray;margin:auto}.carrier.flip{height:12.5vh;width:2.5vh;flex-direction:column}.battleship{display:flex;height:2.5vh;width:10vh;background-color:gray;margin:auto}.battleship.flip{height:10vh;width:2.5vh;flex-direction:column}.cruiser{display:flex;height:2.5vh;width:7.5vh;background-color:gray;margin:auto}.cruiser.flip{height:7.5vh;width:2.5vh;flex-direction:column}.sub{display:flex;height:2.5vh;width:7.5vh;background-color:gray;margin:auto}.sub.flip{height:7.5vh;width:2.5vh;flex-direction:column}.patrolBoat{display:flex;height:2.5vh;width:5vh;background-color:gray;margin:auto}.patrolBoat.flip{height:5vh;width:2.5vw;flex-direction:column}.shipAndFlip{display:flex;flex-direction:column}.shipAndFlip h2{color:#000;align-self:center;font-size:3rem;text-align:center;padding:.5em 0 0 0}.shipAndFlip .errorMsg{color:red;font-size:1.5rem;background-color:#ff8f8f;border-radius:10px;padding:0}#rotate{height:5vw;padding:0 2em;align-self:center;font-size:1.25rem;margin:0 0 1em 0;border-radius:18px}div .human[boat=carrier]{background-color:#dfbf57}div .human[boat=carrier][shothere=true]{background-color:red}div .human[boat=battleship]{background-color:#0d9467}div .human[boat=battleship][shothere=true]{background-color:red}div .human[boat=cruiser]{background-color:#530d3c}div .human[boat=cruiser][shothere=true]{background-color:red}div .human[boat=sub]{background-color:#dd7a7a}div .human[boat=sub][shothere=true]{background-color:red}div .human[boat=patrolBoat]{background-color:#1a5f61}div .human[boat=patrolBoat][shothere=true]{background-color:red}div .human[boat=null]{background-color:#fff}div .human[boat=null]:hover{background-color:#faebd7}form{display:flex;justify-content:center;align-items:center;flex-direction:column;height:100%;width:100%;margin-top:-5vh}.playerName{font-size:2rem}.playerName>input{font-size:1.5rem;padding-left:.1em;margin-bottom:1em}.playerName+button{font-size:1.5rem;padding:.5em;border-radius:8px}*{box-sizing:border-box;margin:0;padding:0}body{height:100vh;width:100vw}h1{display:flex;justify-content:center;align-items:center;flex-direction:row;color:red;height:10%;font-size:3rem;font-weight:700}.container{height:90%;width:100%}.boardTitle{margin:-1em auto auto auto;padding:1.25em;font-size:1.25rem}.turnInfo{display:flex;justify-content:center;align-items:center;flex-direction:column;height:10%;font-size:1.5rem}.turnInfo>button{padding:.5em;font-size:1.5rem;display:block;border-radius:8px}.turnInfo>button:hover{opacity:.5}.container>div{height:45%;width:100%}.human,.computer{display:flex;flex-direction:column}',"",{version:3,sources:["webpack://./src/scss/_grid.scss","webpack://./src/scss/_variableAndFunctions.scss","webpack://./src/scss/_placeShips.scss","webpack://./src/scss/_newGame.scss","webpack://./src/style.scss"],names:[],mappings:"AAEA,SACE,WAAA,CACA,UAAA,CACA,WAAA,CACA,YAAA,CACA,qBAAA,CAEF,KACE,YAAA,CACA,UAAA,CACA,WAAA,CAGF,MACE,UAAA,CACA,WAAA,CACA,qBCXY,CDYZ,YACE,uBAAA,CACA,cAAA,CAKF,mBACE,oBAAA,CAIE,qCACE,qBAAA,CC/BN,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,oBD6B0B,CACpB,WAAA,CACA,WAAA,CACA,UAAA,CElCR,kBACE,iBAAA,CACA,KAAA,CACA,MAAA,CACA,WAAA,CACA,YAAA,CACA,qBAAA,CACA,qBACE,UAAA,CACA,iBAAA,CACA,cAAA,CACA,iBAAA,CACA,eAAA,CAIJ,SACE,YAAA,CACA,YAAA,CACA,YAAA,CACA,qBAAA,CACA,WAAA,CACA,cACE,aAAA,CACA,WAAA,CACA,qBAAA,CAGJ,YACE,YAAA,CACA,YAAA,CACA,UAAA,CACA,qBAAA,CACA,WAAA,CACA,iBACE,WAAA,CACA,WAAA,CACA,qBAAA,CAGJ,SACE,YAAA,CACA,YAAA,CACA,WAAA,CACA,qBAAA,CACA,WAAA,CACA,cACE,YAAA,CACA,WAAA,CACA,qBAAA,CAGJ,KACE,YAAA,CACA,YAAA,CACA,WAAA,CACA,qBAAA,CACA,WAAA,CACA,UACE,YAAA,CACA,WAAA,CACA,qBAAA,CAGJ,YACE,YAAA,CACA,YAAA,CACA,SAAA,CACA,qBAAA,CACA,WAAA,CACA,iBACE,UAAA,CACA,WAAA,CACA,qBAAA,CAIJ,aACE,YAAA,CACA,qBAAA,CACA,gBACE,UAAA,CACA,iBAAA,CACA,cAAA,CACA,iBAAA,CACA,kBAAA,CAEF,uBACE,SAAA,CACA,gBAAA,CACA,wBAAA,CACA,kBAAA,CACA,SAAA,CAIJ,QACE,UAAA,CACA,aAAA,CACA,iBAAA,CACA,iBAAA,CACA,gBAAA,CACA,kBAAA,CAKE,yBACE,wBAAA,CACA,wCACE,oBAAA,CAGJ,4BACE,wBAAA,CACA,2CACE,oBAAA,CAGJ,yBACE,wBAAA,CACA,wCACE,oBAAA,CAGJ,qBACE,wBAAA,CACA,oCACE,oBAAA,CAGJ,4BACE,wBAAA,CACA,2CACE,oBAAA,CAGJ,sBACE,qBAAA,CACA,4BACE,wBAAA,CC5IR,KFDE,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,qBEDoB,CACpB,WAAA,CACA,UAAA,CACA,eAAA,CAGF,YACE,cAAA,CACA,kBACE,gBAAA,CACA,iBAAA,CACA,iBAAA,CAEF,mBACE,gBAAA,CACA,YAAA,CACA,iBAAA,CCdJ,EACE,qBAAA,CACA,QAAA,CACA,SAAA,CAEF,KACE,YAAA,CACA,WAAA,CAGF,GHdE,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,kBGYoB,CACpB,SAAA,CACA,UAAA,CACA,cAAA,CACA,eAAA,CAGF,WACE,UAAA,CACA,UAAA,CAGF,YACE,0BAAA,CACA,cAAA,CACA,iBAAA,CAGF,UHjCE,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,qBG+BoB,CACpB,UAAA,CACA,gBAAA,CACA,iBACE,YAAA,CACA,gBAAA,CACA,aAAA,CACA,iBAAA,CACA,uBACE,UAAA,CAKN,eACE,UAAA,CACA,UAAA,CAGF,iBAEE,YAAA,CACA,qBAAA",sourcesContent:['@import "../scss/variableAndFunctions";\n\n.gridify {\n  margin: auto;\n  width: 25vh;\n  height: 25vh;\n  display: flex;\n  flex-direction: column;\n}\n.row {\n  display: flex;\n  width: 100%;\n  height: 100%;\n}\n\n.cell {\n  width: 100%;\n  height: 100%;\n  border: $test-border;\n  &:hover {\n    background-color: bisque;\n    cursor: pointer;\n  }\n}\n\ndiv {\n  &[shothere="true"] {\n    background-color: red;\n  }\n  &[boat="null"] {\n    &[shothere="true"] {\n      &::after {\n        background-color: white;\n        @include flexCenter("row");\n        content: "X";\n        height: 100%;\n        width: 100%;\n      }\n    }\n  }\n}\n','@mixin flexCenter($direction) {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: $direction;\n}\n\n$test-border: 1px solid black;\n$boatColor: black;\n\n$font-weights: (\n  "light": 300,\n  "regular": 400,\n  "medium": 500,\n  "bold": 700,\n);\n\n@function weight($weight-name) {\n  @return map-get($map: $font-weights, $key: $weight-name);\n}\n','@import "../scss/variableAndFunctions";\n\n.moduleBackground {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(255, 255, 255, 1);\n  h1 {\n    color: black;\n    align-self: center;\n    font-size: 5rem;\n    text-align: center;\n    padding: 0.25em 0;\n  }\n}\n\n.carrier {\n  display: flex;\n  height: 2.5vh;\n  width: 12.5vh;\n  background-color: grey;\n  margin: auto;\n  &.flip {\n    height: 12.5vh;\n    width: 2.5vh;\n    flex-direction: column;\n  }\n}\n.battleship {\n  display: flex;\n  height: 2.5vh;\n  width: 10vh;\n  background-color: grey;\n  margin: auto;\n  &.flip {\n    height: 10vh;\n    width: 2.5vh;\n    flex-direction: column;\n  }\n}\n.cruiser {\n  display: flex;\n  height: 2.5vh;\n  width: 7.5vh;\n  background-color: grey;\n  margin: auto;\n  &.flip {\n    height: 7.5vh;\n    width: 2.5vh;\n    flex-direction: column;\n  }\n}\n.sub {\n  display: flex;\n  height: 2.5vh;\n  width: 7.5vh;\n  background-color: grey;\n  margin: auto;\n  &.flip {\n    height: 7.5vh;\n    width: 2.5vh;\n    flex-direction: column;\n  }\n}\n.patrolBoat {\n  display: flex;\n  height: 2.5vh;\n  width: 5vh;\n  background-color: grey;\n  margin: auto;\n  &.flip {\n    height: 5vh;\n    width: 2.5vw;\n    flex-direction: column;\n  }\n}\n\n.shipAndFlip {\n  display: flex;\n  flex-direction: column;\n  h2 {\n    color: black;\n    align-self: center;\n    font-size: 3rem;\n    text-align: center;\n    padding: 0.5em 0 0 0;\n  }\n  .errorMsg {\n    color: red;\n    font-size: 1.5rem;\n    background-color: #ff8f8f;\n    border-radius: 10px;\n    padding: 0;\n  }\n}\n\n#rotate {\n  height: 5vw;\n  padding: 0 2em;\n  align-self: center;\n  font-size: 1.25rem;\n  margin: 0 0 1em 0;\n  border-radius: 18px;\n}\n\ndiv {\n  & .human {\n    &[boat="carrier"] {\n      background-color: rgb(223, 191, 87);\n      &[shothere="true"] {\n        background-color: red;\n      }\n    }\n    &[boat="battleship"] {\n      background-color: rgb(13, 148, 103);\n      &[shothere="true"] {\n        background-color: red;\n      }\n    }\n    &[boat="cruiser"] {\n      background-color: rgb(83, 13, 60);\n      &[shothere="true"] {\n        background-color: red;\n      }\n    }\n    &[boat="sub"] {\n      background-color: rgb(221, 122, 122);\n      &[shothere="true"] {\n        background-color: red;\n      }\n    }\n    &[boat="patrolBoat"] {\n      background-color: rgb(26, 95, 97);\n      &[shothere="true"] {\n        background-color: red;\n      }\n    }\n    &[boat="null"] {\n      background-color: white;\n      &:hover {\n        background-color: antiquewhite;\n      }\n    }\n  }\n}\n','@import "../scss/variableAndFunctions";\n\nform {\n  @include flexCenter(column);\n  height: 100%;\n  width: 100%;\n  margin-top: -5vh;\n}\n\n.playerName {\n  font-size: 2rem;\n  & > input {\n    font-size: 1.5rem;\n    padding-left: 0.1em;\n    margin-bottom: 1em;\n  }\n  + button {\n    font-size: 1.5rem;\n    padding: 0.5em;\n    border-radius: 8px;\n  }\n}\n','@import "./scss/grid.scss";\n@import "./scss/placeShips";\n@import "./scss/newGame";\n@import "./scss/variableAndFunctions";\n\n* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\nbody {\n  height: 100vh;\n  width: 100vw;\n}\n\nh1 {\n  @include flexCenter(row);\n  color: red;\n  height: 10%;\n  font-size: 3rem;\n  font-weight: weight(bold);\n}\n\n.container {\n  height: 90%;\n  width: 100%;\n}\n\n.boardTitle {\n  margin: -1em auto auto auto;\n  padding: 1.25em;\n  font-size: 1.25rem;\n}\n\n.turnInfo {\n  @include flexCenter(column);\n  height: 10%;\n  font-size: 1.5rem;\n  & > button {\n    padding: 0.5em;\n    font-size: 1.5rem;\n    display: block;\n    border-radius: 8px;\n    &:hover {\n      opacity: 0.5;\n    }\n  }\n}\n\n.container > div {\n  height: 45%;\n  width: 100%;\n}\n\n.human,\n.computer {\n  display: flex;\n  flex-direction: column;\n}\n'],sourceRoot:""}]);const A=i},645:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var A=0;A<this.length;A++){var c=this[A][0];null!=c&&(i[c]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);r&&i[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),n.push(l))}},n}},537:e=>{e.exports=function(e){var n=e[1],t=e[3];if(!t)return n;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(o," */"),i=t.sources.map((function(e){return"/*# sourceURL=".concat(t.sourceRoot||"").concat(e," */")}));return[n].concat(i).concat([a]).join("\n")}return[n].join("\n")}},379:e=>{var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var a={},i=[],A=0;A<e.length;A++){var c=e[A],s=r.base?c[0]+r.base:c[0],l=a[s]||0,d="".concat(s," ").concat(l);a[s]=l+1;var h=t(d),u={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==h)n[h].references++,n[h].updater(u);else{var C=o(u,r);r.byIndex=A,n.splice(A,0,{identifier:d,updater:C,references:1})}i.push(d)}return i}function o(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var A=t(a[i]);n[A].references--}for(var c=r(e,o),s=0;s<a.length;s++){var l=t(a[s]);0===n[l].references&&(n[l].updater(),n.splice(l,1))}a=c}}},569:e=>{var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},216:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},565:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},795:e=>{e.exports=function(e){var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},589:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var a=n[r]={id:r,exports:{}};return e[r](a,a.exports,t),a.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.nc=void 0,(()=>{function e(e){const t=document.querySelector("body"),o=r("div","moduleBackground","   <h1>Place Your Ships!</h1><div id=\"playerBoard\"></div><div id='shipType'><h2 id='placeYourThisShip'></div></div>");t.appendChild(o),n(function(e){const n=r("div","human"," "),t=r("div","gridify"," ");return n.appendChild(t),e.gameboard.gameboard.forEach((e=>{const n=r("div","row"," ");e.forEach((e=>{const t=r("div","human"," ");t.classList.add("cell");for(const n in e)t.setAttribute("".concat(n),"".concat(e[n]));n.appendChild(t)})),t.appendChild(n)})),n}(g.players[0]),"#playerBoard"),n(r("div","shipAndFlip","<h2>Click on a square to place your ".concat(e.name,'<h2 class="errorMsg"></h2>></h2><button id="rotate">Rotate Ship</button>')),"#shipType");let a='<div class="cell"></div>';for(let n=1;n<e.length;n++)a+='<div class="cell"></div>';var A;n(r("div","".concat(e.name),"".concat(a)),"#shipType"),A=e,document.querySelector(".gridify").addEventListener("mousedown",(e=>{const n=e.target.attributes[3].value[0],t=e.target.attributes[3].value[2];let r;r=document.querySelector(".".concat(A.name)).classList.contains("flip")?"y":"x","error"===g.players[0].gameboard.placeShip(A.name,n,t,r)?document.querySelector(".errorMsg").textContent="You Cannot place a ship there":i()})),function(e){document.querySelector("button").addEventListener("click",(()=>{!function(e){document.querySelector(".".concat(e)).classList.toggle("flip")}(e)}))}(e.name)}function n(e,n){document.querySelector(n).appendChild(e)}function r(e,n,t){const r=document.createElement(e);return r.classList.add(n),r.innerHTML=t,r}function o(e,n){const t=Math.floor(7*Math.random()),r=Math.floor(7*Math.random()),a=0===Math.floor(2*Math.random())?"x":"y";"error"===e.gameboard.placeShip("".concat(n),t,r,a)&&o(e,n)}const a={test:!0,addPlayer1Listener:()=>{const e=document.getElementById("player1");e.addEventListener("submit",(n=>{n.preventDefault();const t=new FormData(e).get("player");g.setPlayers(t),c(),i()}))},addAttackListener:()=>{document.querySelector(".computer").firstElementChild.addEventListener("mousedown",(e=>{if("false"===e.target.attributes[2].value){const n=e.target.attributes[3].value[0],t=e.target.attributes[3].value[2],r=g.players[0].attack(g.players[1],n,t);s("You shot and ".concat(r)),setTimeout((()=>{g.takeTurn(g.players[1])}),1500)}else s("You can't shoot the same location twice."),a.addAttackListener()}))}};function i(){0===g.players[0].gameboard.ships[0].locations.length?e(g.players[0].gameboard.ships[0]):0===g.players[0].gameboard.ships[1].locations.length?(A(),e(g.players[0].gameboard.ships[1])):0===g.players[0].gameboard.ships[2].locations.length?(A(),e(g.players[0].gameboard.ships[2])):0===g.players[0].gameboard.ships[3].locations.length?(A(),e(g.players[0].gameboard.ships[3])):0===g.players[0].gameboard.ships[4].locations.length?(A(),e(g.players[0].gameboard.ships[4])):(A(),g.startGame())}function A(){const e=document.querySelector("body"),n=document.querySelector(".moduleBackground");e.removeChild(n)}function c(){const e=document.querySelector(".container");for(;e.firstChild;)e.removeChild(e.firstElementChild)}function s(e){c(),function(e){const n=document.querySelector(".container"),t=d("h3","turnInfo","".concat(e));n.appendChild(t)}(e),l(g.players[1],g.players[1].humanOrComp),l(g.players[0],g.players[0].humanOrComp)}function l(e,n){const t=document.querySelector(".container"),r=d("div","".concat(n)," "),o=d("div","gridify"," ");r.appendChild(o),e.gameboard.gameboard.forEach((e=>{const t=d("div","row"," ");e.forEach((e=>{const r=d("div","".concat(n)," ");r.classList.add("cell");for(const n in e)r.setAttribute("".concat(n),"".concat(e[n]));t.appendChild(r)})),o.appendChild(t)})),r.appendChild(d("h4","boardTitle","This is ".concat(e.name,"'s board"))),t.appendChild(r)}function d(e,n,t){const r=document.createElement(e);return r.classList.add(n),r.innerHTML=t,r}function h(e,n){return{name:e,length:n,locations:[],numHits:0,placeShip(e,n,t){e=Number(e),n=Number(n),this.locations.push({x_axis:n,y_axis:e,hit:!1,cell:"".concat(e,"-").concat(n)});const r=function(){for(let t=1;t<this.length;t++){let r={x_axis:n+1*t,y_axis:e,hit:!1,cell:"".concat(e,"-").concat(n+1*t)};this.locations.push(r)}}.bind(this),o=function(){for(let t=1;t<this.length;t++){let r={x_axis:n,y_axis:e+1*t,hit:!1,cell:"".concat(e+1*t,"-").concat(n)};this.locations.push(r)}}.bind(this);return"x"===t?r():o(),this.locations},hit(e,n){this.locations.forEach((t=>{Number(t.x_axis)===Number(n)&&Number(t.y_axis)===Number(e)&&(t.hit=!0,this.numHits++)}))},isSunk(){return this.numHits===this.length}}}function u(){const e=[];for(let n=0;n<7;n++){const t=[];for(let e=0;e<7;e++){const r={boat:null,shotHere:!1,cell:"".concat(n,"-").concat(e)};t.push(r)}e.push(t)}return e}function C(e){let n;switch(e){case"carrier":n=0;break;case"battleship":n=1;break;case"cruiser":n=2;break;case"sub":n=3;break;case"patrolBoat":n=4;break;default:console.log("invalid boat name")}return n}function p(e){return{owner:e,gameboard:u(),ships:[new h("carrier",5),new h("battleship",4),new h("cruiser",3),new h("sub",3),new h("patrolBoat",2)],placeShip(e,n,t,r){const o=C(e);if("error"===function(e,n,t,r,o){let a=0;const i=new h("theTestBoat",o);if(i.placeShip(n,t,r),e.forEach((e=>{e.forEach((e=>{i.locations.forEach((n=>{n.cell===e.cell&&null===e.boat&&a++}))}))})),a!==o)return"error"}(this.gameboard,n,t,r,this.ships[o].length))return"error";const a=this.ships[o];a.placeShip(n,t,r),this.gameboard=function(e,n){let t=e;return n.locations.forEach((e=>{t[e.y_axis][e.x_axis].boat="".concat(n.name)})),t}(this.gameboard,a)},receiveAttack(e,n){if(this.gameboard[e][n].shotHere=!0,null===this.gameboard[e][n].boat)return"missed!";const t=C(this.gameboard[e][n].boat);return this.ships[t].hit(e,n),"hit a ".concat(this.gameboard[e][n].boat)},allSunk(){let e=0;return this.ships.forEach((n=>{n.isSunk()&&e++})),5===e}}}function m(e,n){return{humanOrComp:n,name:e,isActivePlayer:!1,gameboard:new p(e),attack:(e,n,t)=>e.gameboard.receiveAttack(n,t),randomMove(e){const n=[];e.gameboard.gameboard.forEach((e=>{e.forEach((e=>{!1===e.shotHere&&n.push(e)}))}));const t=Math.floor(Math.random()*n.length),r=n[t],o=r.cell[0],a=r.cell[2];return this.attack(e,o,a)}}}const f=(e,n)=>[new m(e,"human"),new m(n,"computer")],g={players:[],newGame(){this.players=[],function(){c();const e=document.querySelector(".container"),n=document.createElement("form");n.method="post",n.action="",n.id="player1";const t=document.createElement("div");t.classList.add("playerName"),t.innerHTML='<label for="player" placeholder="player" required>Player 1 Name:</label><input type="text" name="player" id="player" />',n.appendChild(t);const r=document.createElement("button");r.type="submit",r.innerHTML="Submit",n.appendChild(r),e.appendChild(n),a.addPlayer1Listener()}()},startGame(){s("Click a cell on the enemy Gameboard to attack!"),this.takeTurn(this.players[0])},setPlayers(e){const n=f(e,"The Enemy");this.players=n,this.players[1].gameboard.ships.forEach((e=>{o(this.players[1],e.name)}))},takeTurn(e){if("no winner"===this.checkForOtherPlayerWin(e))if("human"===e.humanOrComp)a.addAttackListener();else{const n=e.randomMove(this.players[0]);s("The enemy shot and ".concat(n)),this.takeTurn(this.players[0])}else s(this.checkForOtherPlayerWin(e)),function(){const e=document.querySelector(".turnInfo"),n=document.createElement("button");n.textContent="Yes!",n.addEventListener("click",(()=>{c(),g.newGame()})),e.appendChild(n)}()},checkForOtherPlayerWin(e){if(!0===e.gameboard.allSunk()){const n=0===this.players.indexOf(e)?this.players[1]:this.players[0];return"".concat(n.name," won the game! Would you like a rematch?")}return"no winner"}};var b=t(379),v=t.n(b),y=t(795),B=t.n(y),w=t(569),x=t.n(w),k=t(565),E=t.n(k),S=t(216),q=t.n(S),Y=t(589),F=t.n(Y),M=t(192),T={};T.styleTagTransform=F(),T.setAttributes=E(),T.insert=x().bind(null,"head"),T.domAPI=B(),T.insertStyleElement=q(),v()(M.Z,T),M.Z&&M.Z.locals&&M.Z.locals,g.newGame()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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eEN6SCxLQUFLa1EsdUJBQXVCekksR0FDOUIsR0FBMkIsVUFBdkJBLEVBQU9vRSxZQUNUekIsRUFBa0JVLHdCQUNiLENBQ0wsTUFBTUUsRUFBU3ZELEVBQU8wSCxXQUFXblAsS0FBS3VJLFFBQVEsSUFDOUMyQyxFQUFtQixzQkFBRCxPQUF1QkYsSUFDekNoTCxLQUFLb0wsU0FBU3BMLEtBQUt1SSxRQUFRLEdBQzVCLE1BRUQyQyxFQUFtQmxMLEtBQUtrUSx1QkFBdUJ6SSxJSndDckQsV0FDRSxNQUFNMEksRUFBV2pNLFNBQVNDLGNBQWMsYUFDbENpTSxFQUFNbE0sU0FBU1csY0FBYyxVQUNuQ3VMLEVBQUlsSCxZQUFjLE9BQ2xCa0gsRUFBSXpILGlCQUFpQixTQUFTLEtBQzVCa0MsSUFDQXZDLEVBQVNvSCxTQUFULElBRUZTLEVBQVN4TCxZQUFZeUwsRUFDdEIsQ0loREtDLEVBRUgsRUFFREgsdUJBQXVCSSxHQUNyQixJQUEwQyxJQUF0Q0EsRUFBYzFJLFVBQVVnSCxVQUFvQixDQUM5QyxNQUFNMkIsRUFDb0MsSUFBeEN2USxLQUFLdUksUUFBUWlJLFFBQVFGLEdBQ2pCdFEsS0FBS3VJLFFBQVEsR0FDYnZJLEtBQUt1SSxRQUFRLEdBQ25CLE1BQU8sR0FBUCxPQUFVZ0ksRUFBTy9ILEtBQWpCLDJDQUNELENBQ0QsTUFBTyxXQUNSLEcseUhDeERDcEcsRUFBVSxDQUFDLEVBRWZBLEVBQVFnRCxrQkFBb0IsSUFDNUJoRCxFQUFRMEMsY0FBZ0IsSUFFbEIxQyxFQUFRMEIsT0FBUyxTQUFjLEtBQU0sUUFFM0MxQixFQUFRZSxPQUFTLElBQ2pCZixFQUFRK0MsbUJBQXFCLElBRWhCLElBQUksSUFBUy9DLEdBS0osS0FBVyxZQUFpQixXQ3ZCbERrRyxFQUFTb0gsUyIsInNvdXJjZXMiOlsid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvc3R5bGUuc2NzcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL25vbmNlIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvc2NyaXB0cy9wbGFjZVNoaXBzLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvc2NyaXB0cy9kb21TdHVmZi5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3NjcmlwdHMvc2hpcC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3NjcmlwdHMvZ2FtZWJvYXJkLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvc2NyaXB0cy9wbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9zY3JpcHRzL2dhbWVMb29wLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvc3R5bGUuc2Nzcz83NWJhIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCIuZ3JpZGlmeXttYXJnaW46YXV0bzt3aWR0aDoyNXZoO2hlaWdodDoyNXZoO2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW59LnJvd3tkaXNwbGF5OmZsZXg7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJX0uY2VsbHt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2JvcmRlcjoxcHggc29saWQgIzAwMH0uY2VsbDpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOmJpc3F1ZTtjdXJzb3I6cG9pbnRlcn1kaXZbc2hvdGhlcmU9dHJ1ZV17YmFja2dyb3VuZC1jb2xvcjpyZWR9ZGl2W2JvYXQ9bnVsbF1bc2hvdGhlcmU9dHJ1ZV06OmFmdGVye2JhY2tncm91bmQtY29sb3I6I2ZmZjtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7ZmxleC1kaXJlY3Rpb246XFxcInJvd1xcXCI7Y29udGVudDpcXFwiWFxcXCI7aGVpZ2h0OjEwMCU7d2lkdGg6MTAwJX0ubW9kdWxlQmFja2dyb3VuZHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7d2lkdGg6MTAwdnc7aGVpZ2h0OjEwMHZoO2JhY2tncm91bmQtY29sb3I6I2ZmZn0ubW9kdWxlQmFja2dyb3VuZCBoMXtjb2xvcjojMDAwO2FsaWduLXNlbGY6Y2VudGVyO2ZvbnQtc2l6ZTo1cmVtO3RleHQtYWxpZ246Y2VudGVyO3BhZGRpbmc6LjI1ZW0gMH0uY2FycmllcntkaXNwbGF5OmZsZXg7aGVpZ2h0OjIuNXZoO3dpZHRoOjEyLjV2aDtiYWNrZ3JvdW5kLWNvbG9yOmdyYXk7bWFyZ2luOmF1dG99LmNhcnJpZXIuZmxpcHtoZWlnaHQ6MTIuNXZoO3dpZHRoOjIuNXZoO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbn0uYmF0dGxlc2hpcHtkaXNwbGF5OmZsZXg7aGVpZ2h0OjIuNXZoO3dpZHRoOjEwdmg7YmFja2dyb3VuZC1jb2xvcjpncmF5O21hcmdpbjphdXRvfS5iYXR0bGVzaGlwLmZsaXB7aGVpZ2h0OjEwdmg7d2lkdGg6Mi41dmg7ZmxleC1kaXJlY3Rpb246Y29sdW1ufS5jcnVpc2Vye2Rpc3BsYXk6ZmxleDtoZWlnaHQ6Mi41dmg7d2lkdGg6Ny41dmg7YmFja2dyb3VuZC1jb2xvcjpncmF5O21hcmdpbjphdXRvfS5jcnVpc2VyLmZsaXB7aGVpZ2h0OjcuNXZoO3dpZHRoOjIuNXZoO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbn0uc3Vie2Rpc3BsYXk6ZmxleDtoZWlnaHQ6Mi41dmg7d2lkdGg6Ny41dmg7YmFja2dyb3VuZC1jb2xvcjpncmF5O21hcmdpbjphdXRvfS5zdWIuZmxpcHtoZWlnaHQ6Ny41dmg7d2lkdGg6Mi41dmg7ZmxleC1kaXJlY3Rpb246Y29sdW1ufS5wYXRyb2xCb2F0e2Rpc3BsYXk6ZmxleDtoZWlnaHQ6Mi41dmg7d2lkdGg6NXZoO2JhY2tncm91bmQtY29sb3I6Z3JheTttYXJnaW46YXV0b30ucGF0cm9sQm9hdC5mbGlwe2hlaWdodDo1dmg7d2lkdGg6Mi41dnc7ZmxleC1kaXJlY3Rpb246Y29sdW1ufS5zaGlwQW5kRmxpcHtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1ufS5zaGlwQW5kRmxpcCBoMntjb2xvcjojMDAwO2FsaWduLXNlbGY6Y2VudGVyO2ZvbnQtc2l6ZTozcmVtO3RleHQtYWxpZ246Y2VudGVyO3BhZGRpbmc6LjVlbSAwIDAgMH0uc2hpcEFuZEZsaXAgLmVycm9yTXNne2NvbG9yOnJlZDtmb250LXNpemU6MS41cmVtO2JhY2tncm91bmQtY29sb3I6I2ZmOGY4Zjtib3JkZXItcmFkaXVzOjEwcHg7cGFkZGluZzowfSNyb3RhdGV7aGVpZ2h0OjV2dztwYWRkaW5nOjAgMmVtO2FsaWduLXNlbGY6Y2VudGVyO2ZvbnQtc2l6ZToxLjI1cmVtO21hcmdpbjowIDAgMWVtIDA7Ym9yZGVyLXJhZGl1czoxOHB4fWRpdiAuaHVtYW5bYm9hdD1jYXJyaWVyXXtiYWNrZ3JvdW5kLWNvbG9yOiNkZmJmNTd9ZGl2IC5odW1hbltib2F0PWNhcnJpZXJdW3Nob3RoZXJlPXRydWVde2JhY2tncm91bmQtY29sb3I6cmVkfWRpdiAuaHVtYW5bYm9hdD1iYXR0bGVzaGlwXXtiYWNrZ3JvdW5kLWNvbG9yOiMwZDk0Njd9ZGl2IC5odW1hbltib2F0PWJhdHRsZXNoaXBdW3Nob3RoZXJlPXRydWVde2JhY2tncm91bmQtY29sb3I6cmVkfWRpdiAuaHVtYW5bYm9hdD1jcnVpc2VyXXtiYWNrZ3JvdW5kLWNvbG9yOiM1MzBkM2N9ZGl2IC5odW1hbltib2F0PWNydWlzZXJdW3Nob3RoZXJlPXRydWVde2JhY2tncm91bmQtY29sb3I6cmVkfWRpdiAuaHVtYW5bYm9hdD1zdWJde2JhY2tncm91bmQtY29sb3I6I2RkN2E3YX1kaXYgLmh1bWFuW2JvYXQ9c3ViXVtzaG90aGVyZT10cnVlXXtiYWNrZ3JvdW5kLWNvbG9yOnJlZH1kaXYgLmh1bWFuW2JvYXQ9cGF0cm9sQm9hdF17YmFja2dyb3VuZC1jb2xvcjojMWE1ZjYxfWRpdiAuaHVtYW5bYm9hdD1wYXRyb2xCb2F0XVtzaG90aGVyZT10cnVlXXtiYWNrZ3JvdW5kLWNvbG9yOnJlZH1kaXYgLmh1bWFuW2JvYXQ9bnVsbF17YmFja2dyb3VuZC1jb2xvcjojZmZmfWRpdiAuaHVtYW5bYm9hdD1udWxsXTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNmYWViZDd9Zm9ybXtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2hlaWdodDoxMDAlO3dpZHRoOjEwMCU7bWFyZ2luLXRvcDotNXZofS5wbGF5ZXJOYW1le2ZvbnQtc2l6ZToycmVtfS5wbGF5ZXJOYW1lPmlucHV0e2ZvbnQtc2l6ZToxLjVyZW07cGFkZGluZy1sZWZ0Oi4xZW07bWFyZ2luLWJvdHRvbToxZW19LnBsYXllck5hbWUrYnV0dG9ue2ZvbnQtc2l6ZToxLjVyZW07cGFkZGluZzouNWVtO2JvcmRlci1yYWRpdXM6OHB4fSp7Ym94LXNpemluZzpib3JkZXItYm94O21hcmdpbjowO3BhZGRpbmc6MH1ib2R5e2hlaWdodDoxMDB2aDt3aWR0aDoxMDB2d31oMXtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7ZmxleC1kaXJlY3Rpb246cm93O2NvbG9yOnJlZDtoZWlnaHQ6MTAlO2ZvbnQtc2l6ZTozcmVtO2ZvbnQtd2VpZ2h0OjcwMH0uY29udGFpbmVye2hlaWdodDo5MCU7d2lkdGg6MTAwJX0uYm9hcmRUaXRsZXttYXJnaW46LTFlbSBhdXRvIGF1dG8gYXV0bztwYWRkaW5nOjEuMjVlbTtmb250LXNpemU6MS4yNXJlbX0udHVybkluZm97ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtoZWlnaHQ6MTAlO2ZvbnQtc2l6ZToxLjVyZW19LnR1cm5JbmZvPmJ1dHRvbntwYWRkaW5nOi41ZW07Zm9udC1zaXplOjEuNXJlbTtkaXNwbGF5OmJsb2NrO2JvcmRlci1yYWRpdXM6OHB4fS50dXJuSW5mbz5idXR0b246aG92ZXJ7b3BhY2l0eTouNX0uY29udGFpbmVyPmRpdntoZWlnaHQ6NDUlO3dpZHRoOjEwMCV9Lmh1bWFuLC5jb21wdXRlcntkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1ufVwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9zY3NzL19ncmlkLnNjc3NcIixcIndlYnBhY2s6Ly8uL3NyYy9zY3NzL192YXJpYWJsZUFuZEZ1bmN0aW9ucy5zY3NzXCIsXCJ3ZWJwYWNrOi8vLi9zcmMvc2Nzcy9fcGxhY2VTaGlwcy5zY3NzXCIsXCJ3ZWJwYWNrOi8vLi9zcmMvc2Nzcy9fbmV3R2FtZS5zY3NzXCIsXCJ3ZWJwYWNrOi8vLi9zcmMvc3R5bGUuc2Nzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFFQSxTQUNFLFdBQUEsQ0FDQSxVQUFBLENBQ0EsV0FBQSxDQUNBLFlBQUEsQ0FDQSxxQkFBQSxDQUVGLEtBQ0UsWUFBQSxDQUNBLFVBQUEsQ0FDQSxXQUFBLENBR0YsTUFDRSxVQUFBLENBQ0EsV0FBQSxDQUNBLHFCQ1hZLENEWVosWUFDRSx1QkFBQSxDQUNBLGNBQUEsQ0FLRixtQkFDRSxvQkFBQSxDQUlFLHFDQUNFLHFCQUFBLENDL0JOLFlBQUEsQ0FDQSxzQkFBQSxDQUNBLGtCQUFBLENBQ0Esb0JENkIwQixDQUNwQixXQUFBLENBQ0EsV0FBQSxDQUNBLFVBQUEsQ0VsQ1Isa0JBQ0UsaUJBQUEsQ0FDQSxLQUFBLENBQ0EsTUFBQSxDQUNBLFdBQUEsQ0FDQSxZQUFBLENBQ0EscUJBQUEsQ0FDQSxxQkFDRSxVQUFBLENBQ0EsaUJBQUEsQ0FDQSxjQUFBLENBQ0EsaUJBQUEsQ0FDQSxlQUFBLENBSUosU0FDRSxZQUFBLENBQ0EsWUFBQSxDQUNBLFlBQUEsQ0FDQSxxQkFBQSxDQUNBLFdBQUEsQ0FDQSxjQUNFLGFBQUEsQ0FDQSxXQUFBLENBQ0EscUJBQUEsQ0FHSixZQUNFLFlBQUEsQ0FDQSxZQUFBLENBQ0EsVUFBQSxDQUNBLHFCQUFBLENBQ0EsV0FBQSxDQUNBLGlCQUNFLFdBQUEsQ0FDQSxXQUFBLENBQ0EscUJBQUEsQ0FHSixTQUNFLFlBQUEsQ0FDQSxZQUFBLENBQ0EsV0FBQSxDQUNBLHFCQUFBLENBQ0EsV0FBQSxDQUNBLGNBQ0UsWUFBQSxDQUNBLFdBQUEsQ0FDQSxxQkFBQSxDQUdKLEtBQ0UsWUFBQSxDQUNBLFlBQUEsQ0FDQSxXQUFBLENBQ0EscUJBQUEsQ0FDQSxXQUFBLENBQ0EsVUFDRSxZQUFBLENBQ0EsV0FBQSxDQUNBLHFCQUFBLENBR0osWUFDRSxZQUFBLENBQ0EsWUFBQSxDQUNBLFNBQUEsQ0FDQSxxQkFBQSxDQUNBLFdBQUEsQ0FDQSxpQkFDRSxVQUFBLENBQ0EsV0FBQSxDQUNBLHFCQUFBLENBSUosYUFDRSxZQUFBLENBQ0EscUJBQUEsQ0FDQSxnQkFDRSxVQUFBLENBQ0EsaUJBQUEsQ0FDQSxjQUFBLENBQ0EsaUJBQUEsQ0FDQSxrQkFBQSxDQUVGLHVCQUNFLFNBQUEsQ0FDQSxnQkFBQSxDQUNBLHdCQUFBLENBQ0Esa0JBQUEsQ0FDQSxTQUFBLENBSUosUUFDRSxVQUFBLENBQ0EsYUFBQSxDQUNBLGlCQUFBLENBQ0EsaUJBQUEsQ0FDQSxnQkFBQSxDQUNBLGtCQUFBLENBS0UseUJBQ0Usd0JBQUEsQ0FDQSx3Q0FDRSxvQkFBQSxDQUdKLDRCQUNFLHdCQUFBLENBQ0EsMkNBQ0Usb0JBQUEsQ0FHSix5QkFDRSx3QkFBQSxDQUNBLHdDQUNFLG9CQUFBLENBR0oscUJBQ0Usd0JBQUEsQ0FDQSxvQ0FDRSxvQkFBQSxDQUdKLDRCQUNFLHdCQUFBLENBQ0EsMkNBQ0Usb0JBQUEsQ0FHSixzQkFDRSxxQkFBQSxDQUNBLDRCQUNFLHdCQUFBLENDNUlSLEtGREUsWUFBQSxDQUNBLHNCQUFBLENBQ0Esa0JBQUEsQ0FDQSxxQkVEb0IsQ0FDcEIsV0FBQSxDQUNBLFVBQUEsQ0FDQSxlQUFBLENBR0YsWUFDRSxjQUFBLENBQ0Esa0JBQ0UsZ0JBQUEsQ0FDQSxpQkFBQSxDQUNBLGlCQUFBLENBRUYsbUJBQ0UsZ0JBQUEsQ0FDQSxZQUFBLENBQ0EsaUJBQUEsQ0NkSixFQUNFLHFCQUFBLENBQ0EsUUFBQSxDQUNBLFNBQUEsQ0FFRixLQUNFLFlBQUEsQ0FDQSxXQUFBLENBR0YsR0hkRSxZQUFBLENBQ0Esc0JBQUEsQ0FDQSxrQkFBQSxDQUNBLGtCR1lvQixDQUNwQixTQUFBLENBQ0EsVUFBQSxDQUNBLGNBQUEsQ0FDQSxlQUFBLENBR0YsV0FDRSxVQUFBLENBQ0EsVUFBQSxDQUdGLFlBQ0UsMEJBQUEsQ0FDQSxjQUFBLENBQ0EsaUJBQUEsQ0FHRixVSGpDRSxZQUFBLENBQ0Esc0JBQUEsQ0FDQSxrQkFBQSxDQUNBLHFCRytCb0IsQ0FDcEIsVUFBQSxDQUNBLGdCQUFBLENBQ0EsaUJBQ0UsWUFBQSxDQUNBLGdCQUFBLENBQ0EsYUFBQSxDQUNBLGlCQUFBLENBQ0EsdUJBQ0UsVUFBQSxDQUtOLGVBQ0UsVUFBQSxDQUNBLFVBQUEsQ0FHRixpQkFFRSxZQUFBLENBQ0EscUJBQUFcIixcInNvdXJjZXNDb250ZW50XCI6W1wiQGltcG9ydCBcXFwiLi4vc2Nzcy92YXJpYWJsZUFuZEZ1bmN0aW9uc1xcXCI7XFxuXFxuLmdyaWRpZnkge1xcbiAgbWFyZ2luOiBhdXRvO1xcbiAgd2lkdGg6IDI1dmg7XFxuICBoZWlnaHQ6IDI1dmg7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG59XFxuLnJvdyB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcblxcbi5jZWxsIHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgYm9yZGVyOiAkdGVzdC1ib3JkZXI7XFxuICAmOmhvdmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmlzcXVlO1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICB9XFxufVxcblxcbmRpdiB7XFxuICAmW3Nob3RoZXJlPVxcXCJ0cnVlXFxcIl0ge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XFxuICB9XFxuICAmW2JvYXQ9XFxcIm51bGxcXFwiXSB7XFxuICAgICZbc2hvdGhlcmU9XFxcInRydWVcXFwiXSB7XFxuICAgICAgJjo6YWZ0ZXIge1xcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxuICAgICAgICBAaW5jbHVkZSBmbGV4Q2VudGVyKFxcXCJyb3dcXFwiKTtcXG4gICAgICAgIGNvbnRlbnQ6IFxcXCJYXFxcIjtcXG4gICAgICAgIGhlaWdodDogMTAwJTtcXG4gICAgICAgIHdpZHRoOiAxMDAlO1xcbiAgICAgIH1cXG4gICAgfVxcbiAgfVxcbn1cXG5cIixcIkBtaXhpbiBmbGV4Q2VudGVyKCRkaXJlY3Rpb24pIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBmbGV4LWRpcmVjdGlvbjogJGRpcmVjdGlvbjtcXG59XFxuXFxuJHRlc3QtYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XFxuJGJvYXRDb2xvcjogYmxhY2s7XFxuXFxuJGZvbnQtd2VpZ2h0czogKFxcbiAgXFxcImxpZ2h0XFxcIjogMzAwLFxcbiAgXFxcInJlZ3VsYXJcXFwiOiA0MDAsXFxuICBcXFwibWVkaXVtXFxcIjogNTAwLFxcbiAgXFxcImJvbGRcXFwiOiA3MDAsXFxuKTtcXG5cXG5AZnVuY3Rpb24gd2VpZ2h0KCR3ZWlnaHQtbmFtZSkge1xcbiAgQHJldHVybiBtYXAtZ2V0KCRtYXA6ICRmb250LXdlaWdodHMsICRrZXk6ICR3ZWlnaHQtbmFtZSk7XFxufVxcblwiLFwiQGltcG9ydCBcXFwiLi4vc2Nzcy92YXJpYWJsZUFuZEZ1bmN0aW9uc1xcXCI7XFxuXFxuLm1vZHVsZUJhY2tncm91bmQge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwO1xcbiAgbGVmdDogMDtcXG4gIHdpZHRoOiAxMDB2dztcXG4gIGhlaWdodDogMTAwdmg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDEpO1xcbiAgaDEge1xcbiAgICBjb2xvcjogYmxhY2s7XFxuICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcXG4gICAgZm9udC1zaXplOiA1cmVtO1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICAgIHBhZGRpbmc6IDAuMjVlbSAwO1xcbiAgfVxcbn1cXG5cXG4uY2FycmllciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgaGVpZ2h0OiAyLjV2aDtcXG4gIHdpZHRoOiAxMi41dmg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBncmV5O1xcbiAgbWFyZ2luOiBhdXRvO1xcbiAgJi5mbGlwIHtcXG4gICAgaGVpZ2h0OiAxMi41dmg7XFxuICAgIHdpZHRoOiAyLjV2aDtcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIH1cXG59XFxuLmJhdHRsZXNoaXAge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGhlaWdodDogMi41dmg7XFxuICB3aWR0aDogMTB2aDtcXG4gIGJhY2tncm91bmQtY29sb3I6IGdyZXk7XFxuICBtYXJnaW46IGF1dG87XFxuICAmLmZsaXAge1xcbiAgICBoZWlnaHQ6IDEwdmg7XFxuICAgIHdpZHRoOiAyLjV2aDtcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIH1cXG59XFxuLmNydWlzZXIge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGhlaWdodDogMi41dmg7XFxuICB3aWR0aDogNy41dmg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBncmV5O1xcbiAgbWFyZ2luOiBhdXRvO1xcbiAgJi5mbGlwIHtcXG4gICAgaGVpZ2h0OiA3LjV2aDtcXG4gICAgd2lkdGg6IDIuNXZoO1xcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgfVxcbn1cXG4uc3ViIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBoZWlnaHQ6IDIuNXZoO1xcbiAgd2lkdGg6IDcuNXZoO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JleTtcXG4gIG1hcmdpbjogYXV0bztcXG4gICYuZmxpcCB7XFxuICAgIGhlaWdodDogNy41dmg7XFxuICAgIHdpZHRoOiAyLjV2aDtcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIH1cXG59XFxuLnBhdHJvbEJvYXQge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGhlaWdodDogMi41dmg7XFxuICB3aWR0aDogNXZoO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JleTtcXG4gIG1hcmdpbjogYXV0bztcXG4gICYuZmxpcCB7XFxuICAgIGhlaWdodDogNXZoO1xcbiAgICB3aWR0aDogMi41dnc7XFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICB9XFxufVxcblxcbi5zaGlwQW5kRmxpcCB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIGgyIHtcXG4gICAgY29sb3I6IGJsYWNrO1xcbiAgICBhbGlnbi1zZWxmOiBjZW50ZXI7XFxuICAgIGZvbnQtc2l6ZTogM3JlbTtcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgICBwYWRkaW5nOiAwLjVlbSAwIDAgMDtcXG4gIH1cXG4gIC5lcnJvck1zZyB7XFxuICAgIGNvbG9yOiByZWQ7XFxuICAgIGZvbnQtc2l6ZTogMS41cmVtO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmY4ZjhmO1xcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xcbiAgICBwYWRkaW5nOiAwO1xcbiAgfVxcbn1cXG5cXG4jcm90YXRlIHtcXG4gIGhlaWdodDogNXZ3O1xcbiAgcGFkZGluZzogMCAyZW07XFxuICBhbGlnbi1zZWxmOiBjZW50ZXI7XFxuICBmb250LXNpemU6IDEuMjVyZW07XFxuICBtYXJnaW46IDAgMCAxZW0gMDtcXG4gIGJvcmRlci1yYWRpdXM6IDE4cHg7XFxufVxcblxcbmRpdiB7XFxuICAmIC5odW1hbiB7XFxuICAgICZbYm9hdD1cXFwiY2FycmllclxcXCJdIHtcXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjIzLCAxOTEsIDg3KTtcXG4gICAgICAmW3Nob3RoZXJlPVxcXCJ0cnVlXFxcIl0ge1xcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xcbiAgICAgIH1cXG4gICAgfVxcbiAgICAmW2JvYXQ9XFxcImJhdHRsZXNoaXBcXFwiXSB7XFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDEzLCAxNDgsIDEwMyk7XFxuICAgICAgJltzaG90aGVyZT1cXFwidHJ1ZVxcXCJdIHtcXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJlZDtcXG4gICAgICB9XFxuICAgIH1cXG4gICAgJltib2F0PVxcXCJjcnVpc2VyXFxcIl0ge1xcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYig4MywgMTMsIDYwKTtcXG4gICAgICAmW3Nob3RoZXJlPVxcXCJ0cnVlXFxcIl0ge1xcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xcbiAgICAgIH1cXG4gICAgfVxcbiAgICAmW2JvYXQ9XFxcInN1YlxcXCJdIHtcXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjIxLCAxMjIsIDEyMik7XFxuICAgICAgJltzaG90aGVyZT1cXFwidHJ1ZVxcXCJdIHtcXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJlZDtcXG4gICAgICB9XFxuICAgIH1cXG4gICAgJltib2F0PVxcXCJwYXRyb2xCb2F0XFxcIl0ge1xcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigyNiwgOTUsIDk3KTtcXG4gICAgICAmW3Nob3RoZXJlPVxcXCJ0cnVlXFxcIl0ge1xcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xcbiAgICAgIH1cXG4gICAgfVxcbiAgICAmW2JvYXQ9XFxcIm51bGxcXFwiXSB7XFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxuICAgICAgJjpob3ZlciB7XFxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBhbnRpcXVld2hpdGU7XFxuICAgICAgfVxcbiAgICB9XFxuICB9XFxufVxcblwiLFwiQGltcG9ydCBcXFwiLi4vc2Nzcy92YXJpYWJsZUFuZEZ1bmN0aW9uc1xcXCI7XFxuXFxuZm9ybSB7XFxuICBAaW5jbHVkZSBmbGV4Q2VudGVyKGNvbHVtbik7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICB3aWR0aDogMTAwJTtcXG4gIG1hcmdpbi10b3A6IC01dmg7XFxufVxcblxcbi5wbGF5ZXJOYW1lIHtcXG4gIGZvbnQtc2l6ZTogMnJlbTtcXG4gICYgPiBpbnB1dCB7XFxuICAgIGZvbnQtc2l6ZTogMS41cmVtO1xcbiAgICBwYWRkaW5nLWxlZnQ6IDAuMWVtO1xcbiAgICBtYXJnaW4tYm90dG9tOiAxZW07XFxuICB9XFxuICArIGJ1dHRvbiB7XFxuICAgIGZvbnQtc2l6ZTogMS41cmVtO1xcbiAgICBwYWRkaW5nOiAwLjVlbTtcXG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xcbiAgfVxcbn1cXG5cIixcIkBpbXBvcnQgXFxcIi4vc2Nzcy9ncmlkLnNjc3NcXFwiO1xcbkBpbXBvcnQgXFxcIi4vc2Nzcy9wbGFjZVNoaXBzXFxcIjtcXG5AaW1wb3J0IFxcXCIuL3Njc3MvbmV3R2FtZVxcXCI7XFxuQGltcG9ydCBcXFwiLi9zY3NzL3ZhcmlhYmxlQW5kRnVuY3Rpb25zXFxcIjtcXG5cXG4qIHtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBtYXJnaW46IDA7XFxuICBwYWRkaW5nOiAwO1xcbn1cXG5ib2R5IHtcXG4gIGhlaWdodDogMTAwdmg7XFxuICB3aWR0aDogMTAwdnc7XFxufVxcblxcbmgxIHtcXG4gIEBpbmNsdWRlIGZsZXhDZW50ZXIocm93KTtcXG4gIGNvbG9yOiByZWQ7XFxuICBoZWlnaHQ6IDEwJTtcXG4gIGZvbnQtc2l6ZTogM3JlbTtcXG4gIGZvbnQtd2VpZ2h0OiB3ZWlnaHQoYm9sZCk7XFxufVxcblxcbi5jb250YWluZXIge1xcbiAgaGVpZ2h0OiA5MCU7XFxuICB3aWR0aDogMTAwJTtcXG59XFxuXFxuLmJvYXJkVGl0bGUge1xcbiAgbWFyZ2luOiAtMWVtIGF1dG8gYXV0byBhdXRvO1xcbiAgcGFkZGluZzogMS4yNWVtO1xcbiAgZm9udC1zaXplOiAxLjI1cmVtO1xcbn1cXG5cXG4udHVybkluZm8ge1xcbiAgQGluY2x1ZGUgZmxleENlbnRlcihjb2x1bW4pO1xcbiAgaGVpZ2h0OiAxMCU7XFxuICBmb250LXNpemU6IDEuNXJlbTtcXG4gICYgPiBidXR0b24ge1xcbiAgICBwYWRkaW5nOiAwLjVlbTtcXG4gICAgZm9udC1zaXplOiAxLjVyZW07XFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XFxuICAgICY6aG92ZXIge1xcbiAgICAgIG9wYWNpdHk6IDAuNTtcXG4gICAgfVxcbiAgfVxcbn1cXG5cXG4uY29udGFpbmVyID4gZGl2IHtcXG4gIGhlaWdodDogNDUlO1xcbiAgd2lkdGg6IDEwMCU7XFxufVxcblxcbi5odW1hbixcXG4uY29tcHV0ZXIge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxufVxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gXCJcIjtcbiAgICAgIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2YgaXRlbVs1XSAhPT0gXCJ1bmRlZmluZWRcIjtcblxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKTtcbiAgICAgIH1cblxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuXG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiBpKG1vZHVsZXMsIG1lZGlhLCBkZWR1cGUsIHN1cHBvcnRzLCBsYXllcikge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgdW5kZWZpbmVkXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGhpcy5sZW5ndGg7IGsrKykge1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2tdWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBsYXllciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW1bNV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHN1cHBvcnRzKSB7XG4gICAgICAgIGlmICghaXRlbVs0XSkge1xuICAgICAgICAgIGl0ZW1bNF0gPSBcIlwiLmNvbmNhdChzdXBwb3J0cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzRdID0gc3VwcG9ydHM7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShjc3NNYXBwaW5nKSkpKTtcbiAgICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCB8fCBcIlwiKS5jb25jYXQoc291cmNlLCBcIiAqL1wiKTtcbiAgICB9KTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKFwiXFxuXCIpO1xuICB9XG5cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5ET00ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5ET01baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleEJ5SWRlbnRpZmllciA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXSxcbiAgICAgIHN1cHBvcnRzOiBpdGVtWzRdLFxuICAgICAgbGF5ZXI6IGl0ZW1bNV1cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcblxuICB2YXIgdXBkYXRlciA9IGZ1bmN0aW9uIHVwZGF0ZXIobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCAmJiBuZXdPYmouc3VwcG9ydHMgPT09IG9iai5zdXBwb3J0cyAmJiBuZXdPYmoubGF5ZXIgPT09IG9iai5sYXllcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGFwaS51cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbW92ZSgpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gdXBkYXRlcjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgbWVtbyA9IHt9O1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cbmZ1bmN0aW9uIGdldFRhcmdldCh0YXJnZXQpIHtcbiAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gIH1cblxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxuZnVuY3Rpb24gaW5zZXJ0QnlTZWxlY3RvcihpbnNlcnQsIHN0eWxlKSB7XG4gIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoaW5zZXJ0KTtcblxuICBpZiAoIXRhcmdldCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gIH1cblxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydEJ5U2VsZWN0b3I7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIG9wdGlvbnMuc2V0QXR0cmlidXRlcyhlbGVtZW50LCBvcHRpb25zLmF0dHJpYnV0ZXMpO1xuICBvcHRpb25zLmluc2VydChlbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xuICByZXR1cm4gZWxlbWVudDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzKHN0eWxlRWxlbWVudCkge1xuICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09IFwidW5kZWZpbmVkXCIgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gXCJcIjtcblxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQob2JqLnN1cHBvcnRzLCBcIikge1wiKTtcbiAgfVxuXG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuXG4gIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2Ygb2JqLmxheWVyICE9PSBcInVuZGVmaW5lZFwiO1xuXG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJAbGF5ZXJcIi5jb25jYXQob2JqLmxheWVyLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQob2JqLmxheWVyKSA6IFwiXCIsIFwiIHtcIik7XG4gIH1cblxuICBjc3MgKz0gb2JqLmNzcztcblxuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG5cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuXG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cblxuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIG9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZUVsZW1lbnQucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xuICB2YXIgc3R5bGVFbGVtZW50ID0gb3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XG4gICAgICBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaik7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkb21BUEk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQpIHtcbiAgaWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIl9fd2VicGFja19yZXF1aXJlX18ubmMgPSB1bmRlZmluZWQ7IiwiaW1wb3J0IHsgcGxhY2VOZXh0U2hpcCB9IGZyb20gXCIuL2RvbVN0dWZmXCI7XG5pbXBvcnQgeyBHYW1lTG9vcCB9IGZyb20gXCIuL2dhbWVMb29wXCI7XG5cbi8vIG1ha2VzIHRoZSBtb2R1bGUgZm9yIHBsYWNpbmcgc2hpcHNcbmZ1bmN0aW9uIHJlbmRlclNoaXBNb2R1bGUoc2hpcFRvUGxhY2UpIHtcbiAgY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpO1xuICBjb25zdCBtb2R1bGVCYWNrZ3JvdW5kID0gY3JlYXRlTmV3RWxlbWVudChcbiAgICBcImRpdlwiLFxuICAgIFwibW9kdWxlQmFja2dyb3VuZFwiLFxuICAgIGAgICA8aDE+UGxhY2UgWW91ciBTaGlwcyE8L2gxPjxkaXYgaWQ9XCJwbGF5ZXJCb2FyZFwiPjwvZGl2PjxkaXYgaWQ9J3NoaXBUeXBlJz48aDIgaWQ9J3BsYWNlWW91clRoaXNTaGlwJz48L2Rpdj48L2Rpdj5gXG4gICk7XG4gIGJvZHkuYXBwZW5kQ2hpbGQobW9kdWxlQmFja2dyb3VuZCk7XG4gIHJlbmRlck9iamVjdChidWlsZFBsYWNlbWVudEJvYXJkKEdhbWVMb29wLnBsYXllcnNbMF0pLCBcIiNwbGF5ZXJCb2FyZFwiKTtcbiAgcmVuZGVyT2JqZWN0KFxuICAgIGNyZWF0ZU5ld0VsZW1lbnQoXG4gICAgICBcImRpdlwiLFxuICAgICAgXCJzaGlwQW5kRmxpcFwiLFxuICAgICAgYDxoMj5DbGljayBvbiBhIHNxdWFyZSB0byBwbGFjZSB5b3VyICR7c2hpcFRvUGxhY2UubmFtZX08aDIgY2xhc3M9XCJlcnJvck1zZ1wiPjwvaDI+PjwvaDI+PGJ1dHRvbiBpZD1cInJvdGF0ZVwiPlJvdGF0ZSBTaGlwPC9idXR0b24+YFxuICAgICksXG4gICAgXCIjc2hpcFR5cGVcIlxuICApO1xuICBsZXQgc2hpcFRvUGxhY2VJbm5lckh0bWwgPSBgPGRpdiBjbGFzcz1cImNlbGxcIj48L2Rpdj5gO1xuICBmb3IgKGxldCBpID0gMTsgaSA8IHNoaXBUb1BsYWNlLmxlbmd0aDsgaSsrKSB7XG4gICAgc2hpcFRvUGxhY2VJbm5lckh0bWwgKz0gYDxkaXYgY2xhc3M9XCJjZWxsXCI+PC9kaXY+YDtcbiAgfVxuICByZW5kZXJPYmplY3QoXG4gICAgY3JlYXRlTmV3RWxlbWVudChcImRpdlwiLCBgJHtzaGlwVG9QbGFjZS5uYW1lfWAsIGAke3NoaXBUb1BsYWNlSW5uZXJIdG1sfWApLFxuICAgIFwiI3NoaXBUeXBlXCJcbiAgKTtcbiAgYWRkU2hpcFBsYWNlbWVudExpc3RlbmVyKHNoaXBUb1BsYWNlKTtcbiAgcm90YXRlRXZlbnRMaXN0ZW5lcihzaGlwVG9QbGFjZS5uYW1lKTtcbn1cblxuZnVuY3Rpb24gcm90YXRlRXZlbnRMaXN0ZW5lcihzaGlwTmFtZSkge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYnV0dG9uXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgcm90YXRlU2hpcChzaGlwTmFtZSk7XG4gIH0pO1xufVxuXG4vLyBmdW5jdGlvbiB0byByb3RhdGUgdGhlIHNoaXAgb24gdGhlIHBhZ2VcbmZ1bmN0aW9uIHJvdGF0ZVNoaXAoc2hpcE5hbWUpIHtcbiAgY29uc3Qgc2hpcERvbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke3NoaXBOYW1lfWApO1xuICBzaGlwRG9tLmNsYXNzTGlzdC50b2dnbGUoXCJmbGlwXCIpO1xufVxuXG4vLyBidWlsZCB0aGUgcGxheWVyIDEgZ2FtZWJvYXJkXG5mdW5jdGlvbiBidWlsZFBsYWNlbWVudEJvYXJkKHBsYXllcikge1xuICBjb25zdCBwbGF5ZXJCb2FyZENvbnRhaW5lciA9IGNyZWF0ZU5ld0VsZW1lbnQoXCJkaXZcIiwgYGh1bWFuYCwgXCIgXCIpO1xuICBjb25zdCBib2FyZENvbnRhaW5lciA9IGNyZWF0ZU5ld0VsZW1lbnQoXCJkaXZcIiwgYGdyaWRpZnlgLCBcIiBcIik7XG4gIHBsYXllckJvYXJkQ29udGFpbmVyLmFwcGVuZENoaWxkKGJvYXJkQ29udGFpbmVyKTtcbiAgcGxheWVyLmdhbWVib2FyZC5nYW1lYm9hcmQuZm9yRWFjaCgocm93KSA9PiB7XG4gICAgY29uc3Qgcm93RGl2ID0gY3JlYXRlTmV3RWxlbWVudChcImRpdlwiLCBcInJvd1wiLCBcIiBcIik7XG4gICAgcm93LmZvckVhY2goKGNlbGwpID0+IHtcbiAgICAgIGNvbnN0IGNlbGxEaXYgPSBjcmVhdGVOZXdFbGVtZW50KFwiZGl2XCIsIGBodW1hbmAsIFwiIFwiKTtcbiAgICAgIGNlbGxEaXYuY2xhc3NMaXN0LmFkZChcImNlbGxcIik7XG4gICAgICBmb3IgKGNvbnN0IHByb3BlcnR5IGluIGNlbGwpIHtcbiAgICAgICAgY2VsbERpdi5zZXRBdHRyaWJ1dGUoYCR7cHJvcGVydHl9YCwgYCR7Y2VsbFtwcm9wZXJ0eV19YCk7XG4gICAgICB9XG4gICAgICByb3dEaXYuYXBwZW5kQ2hpbGQoY2VsbERpdik7XG4gICAgfSk7XG4gICAgYm9hcmRDb250YWluZXIuYXBwZW5kQ2hpbGQocm93RGl2KTtcbiAgfSk7XG4gIHJldHVybiBwbGF5ZXJCb2FyZENvbnRhaW5lcjtcbn1cblxuLy8gcmVuZGVycyBkb20gZWxlbWVudHMgdG8gdGhlIHBhZ2VcbmZ1bmN0aW9uIHJlbmRlck9iamVjdChEb21JdGVtVG9SZW5kZXIsIHdoZXJlVG9SZW5kZXIpIHtcbiAgY29uc3QgcmVuZGVyTG9jYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHdoZXJlVG9SZW5kZXIpO1xuICByZW5kZXJMb2NhdGlvbi5hcHBlbmRDaGlsZChEb21JdGVtVG9SZW5kZXIpO1xufVxuXG4vL2NyZWF0ZXMgZWxlbWVudCwgYWRkcyBhIGNsYXNzLCBhbmQgaW5uZXJIVE1MXG5mdW5jdGlvbiBjcmVhdGVOZXdFbGVtZW50KHR5cGUsIGFkZENsYXNzLCBpbm5lckhUTUwpIHtcbiAgY29uc3QgZG9tRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XG4gIGRvbUVsZW1lbnQuY2xhc3NMaXN0LmFkZChhZGRDbGFzcyk7XG4gIGRvbUVsZW1lbnQuaW5uZXJIVE1MID0gaW5uZXJIVE1MO1xuICByZXR1cm4gZG9tRWxlbWVudDtcbn1cblxuLy8gZXZlbnQgbGlzdGVuZXJzIGZvciBwbGFjaW5nIHNoaXBzXG5mdW5jdGlvbiBhZGRTaGlwUGxhY2VtZW50TGlzdGVuZXIoc2hpcE5hbWUpIHtcbiAgY29uc3QgYm9hcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdyaWRpZnlcIik7XG4gIGJvYXJkLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGUpID0+IHtcbiAgICBjb25zdCB5VmFsdWUgPSBlLnRhcmdldC5hdHRyaWJ1dGVzWzNdLnZhbHVlWzBdO1xuICAgIGNvbnN0IHhWYWx1ZSA9IGUudGFyZ2V0LmF0dHJpYnV0ZXNbM10udmFsdWVbMl07XG4gICAgbGV0IGF4aXM7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7c2hpcE5hbWUubmFtZX1gKS5jbGFzc0xpc3QuY29udGFpbnMoXCJmbGlwXCIpXG4gICAgICA/IChheGlzID0gXCJ5XCIpXG4gICAgICA6IChheGlzID0gXCJ4XCIpO1xuXG4gICAgY29uc3QgdmFsaWRQbGFjZW1lbnQgPSBHYW1lTG9vcC5wbGF5ZXJzWzBdLmdhbWVib2FyZC5wbGFjZVNoaXAoXG4gICAgICBzaGlwTmFtZS5uYW1lLFxuICAgICAgeVZhbHVlLFxuICAgICAgeFZhbHVlLFxuICAgICAgYXhpc1xuICAgICk7XG4gICAgaWYgKHZhbGlkUGxhY2VtZW50ID09PSBcImVycm9yXCIpIHtcbiAgICAgIGNvbnN0IGVycm9yTXNnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lcnJvck1zZ1wiKTtcbiAgICAgIGVycm9yTXNnLnRleHRDb250ZW50ID0gXCJZb3UgQ2Fubm90IHBsYWNlIGEgc2hpcCB0aGVyZVwiO1xuICAgIH0gZWxzZSBwbGFjZU5leHRTaGlwKCk7XG4gIH0pO1xufVxuXG4vLyB0cnkgdG8gcGxhY2UgdGhlIHNoaXAsIGlmIHRoZSBzaGlwIHBsYWNlbWVudCBoYXMgYW4gZXJyb3IgdHJ5IGFnYWluLlxuZnVuY3Rpb24gcmFuZG9tU2hpcFBsYWNlcihwbGF5ZXIsIHNoaXBUb1BsYWNlKSB7XG4gIGNvbnN0IHJhbmRvbVlWYWx1ZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDcpO1xuICBjb25zdCByYW5kb21YVmFsdWUgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA3KTtcbiAgY29uc3QgcmFuZG9tQXhpcyA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIpID09PSAwID8gXCJ4XCIgOiBcInlcIjtcbiAgaWYgKFxuICAgIHBsYXllci5nYW1lYm9hcmQucGxhY2VTaGlwKFxuICAgICAgYCR7c2hpcFRvUGxhY2V9YCxcbiAgICAgIHJhbmRvbVlWYWx1ZSxcbiAgICAgIHJhbmRvbVhWYWx1ZSxcbiAgICAgIHJhbmRvbUF4aXNcbiAgICApID09PSBcImVycm9yXCJcbiAgKSB7XG4gICAgcmFuZG9tU2hpcFBsYWNlcihwbGF5ZXIsIHNoaXBUb1BsYWNlKTtcbiAgfVxufVxuXG5leHBvcnQgeyByZW5kZXJTaGlwTW9kdWxlLCByYW5kb21TaGlwUGxhY2VyIH07XG4iLCJpbXBvcnQgeyBHYW1lTG9vcCB9IGZyb20gXCIuL2dhbWVMb29wXCI7XG5pbXBvcnQgeyByZW5kZXJTaGlwTW9kdWxlIH0gZnJvbSBcIi4vcGxhY2VTaGlwc1wiO1xuXG5jb25zdCBhbGxFdmVudExpc3RlbmVycyA9IHtcbiAgdGVzdDogdHJ1ZSxcbiAgLy8gbGlzdGVuZXIgZm9yIHN0YXJ0aW5nIHRoZSBnYW1lXG4gIGFkZFBsYXllcjFMaXN0ZW5lcjogKCkgPT4ge1xuICAgIGNvbnN0IHBsYXllckZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBsYXllcjFcIik7XG4gICAgcGxheWVyRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCBwbGF5ZXJEYXRhID0gbmV3IEZvcm1EYXRhKHBsYXllckZvcm0pO1xuICAgICAgY29uc3QgcGxheWVyMSA9IHBsYXllckRhdGEuZ2V0KFwicGxheWVyXCIpO1xuICAgICAgR2FtZUxvb3Auc2V0UGxheWVycyhwbGF5ZXIxKTtcbiAgICAgIGVyYXNlUGFnZUNvbnRlbnQoKTtcbiAgICAgIHBsYWNlTmV4dFNoaXAoKTtcbiAgICB9KTtcbiAgfSxcbiAgLy8gbGlzdGVuZXIgZm9yIGF0dGFja2luZyB0aGUgZW5lbXkgZ2FtZWJvYXJkXG4gIGFkZEF0dGFja0xpc3RlbmVyOiAoKSA9PiB7XG4gICAgY29uc3QgZW5lbXlCb2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29tcHV0ZXJcIikuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgZW5lbXlCb2FyZC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChlKSA9PiB7XG4gICAgICBpZiAoZS50YXJnZXQuYXR0cmlidXRlc1syXS52YWx1ZSA9PT0gXCJmYWxzZVwiKSB7XG4gICAgICAgIGNvbnN0IHlWYWx1ZSA9IGUudGFyZ2V0LmF0dHJpYnV0ZXNbM10udmFsdWVbMF07XG4gICAgICAgIGNvbnN0IHhWYWx1ZSA9IGUudGFyZ2V0LmF0dHJpYnV0ZXNbM10udmFsdWVbMl07XG4gICAgICAgIGNvbnN0IHN0cmluZyA9IEdhbWVMb29wLnBsYXllcnNbMF0uYXR0YWNrKFxuICAgICAgICAgIEdhbWVMb29wLnBsYXllcnNbMV0sXG4gICAgICAgICAgeVZhbHVlLFxuICAgICAgICAgIHhWYWx1ZVxuICAgICAgICApO1xuICAgICAgICByZVJlbmRlckJvdGhCb2FyZHMoYFlvdSBzaG90IGFuZCAke3N0cmluZ31gKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgR2FtZUxvb3AudGFrZVR1cm4oR2FtZUxvb3AucGxheWVyc1sxXSk7XG4gICAgICAgIH0sIDE1MDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVSZW5kZXJCb3RoQm9hcmRzKFwiWW91IGNhbid0IHNob290IHRoZSBzYW1lIGxvY2F0aW9uIHR3aWNlLlwiKTtcbiAgICAgICAgYWxsRXZlbnRMaXN0ZW5lcnMuYWRkQXR0YWNrTGlzdGVuZXIoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbn07XG5cbi8vIHBsYWNpbmcgdGhlIHNoaXBzIG9uZSBhdCBhIHRpbWUsIHRoZW4gc3RhcnRpbmcgdGhlIGdhbWUgb25jZSBhbGwgcGxhY2VkXG5mdW5jdGlvbiBwbGFjZU5leHRTaGlwKCkge1xuICBpZiAoR2FtZUxvb3AucGxheWVyc1swXS5nYW1lYm9hcmQuc2hpcHNbMF0ubG9jYXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgIHJlbmRlclNoaXBNb2R1bGUoR2FtZUxvb3AucGxheWVyc1swXS5nYW1lYm9hcmQuc2hpcHNbMF0pO1xuICB9IGVsc2UgaWYgKEdhbWVMb29wLnBsYXllcnNbMF0uZ2FtZWJvYXJkLnNoaXBzWzFdLmxvY2F0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICBlcmFzZU1vZHVsZSgpO1xuICAgIHJlbmRlclNoaXBNb2R1bGUoR2FtZUxvb3AucGxheWVyc1swXS5nYW1lYm9hcmQuc2hpcHNbMV0pO1xuICB9IGVsc2UgaWYgKEdhbWVMb29wLnBsYXllcnNbMF0uZ2FtZWJvYXJkLnNoaXBzWzJdLmxvY2F0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICBlcmFzZU1vZHVsZSgpO1xuICAgIHJlbmRlclNoaXBNb2R1bGUoR2FtZUxvb3AucGxheWVyc1swXS5nYW1lYm9hcmQuc2hpcHNbMl0pO1xuICB9IGVsc2UgaWYgKEdhbWVMb29wLnBsYXllcnNbMF0uZ2FtZWJvYXJkLnNoaXBzWzNdLmxvY2F0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICBlcmFzZU1vZHVsZSgpO1xuICAgIHJlbmRlclNoaXBNb2R1bGUoR2FtZUxvb3AucGxheWVyc1swXS5nYW1lYm9hcmQuc2hpcHNbM10pO1xuICB9IGVsc2UgaWYgKEdhbWVMb29wLnBsYXllcnNbMF0uZ2FtZWJvYXJkLnNoaXBzWzRdLmxvY2F0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICBlcmFzZU1vZHVsZSgpO1xuICAgIHJlbmRlclNoaXBNb2R1bGUoR2FtZUxvb3AucGxheWVyc1swXS5nYW1lYm9hcmQuc2hpcHNbNF0pO1xuICB9IGVsc2Uge1xuICAgIGVyYXNlTW9kdWxlKCk7XG4gICAgR2FtZUxvb3Auc3RhcnRHYW1lKCk7XG4gIH1cbn1cblxuLy8gZXJhc2VzIHRoZSBjdXJyZW50IHBsYWNlIHNoaXAgbW9kdWxlXG5mdW5jdGlvbiBlcmFzZU1vZHVsZSgpIHtcbiAgY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpO1xuICBjb25zdCBtb2R1bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZHVsZUJhY2tncm91bmRcIik7XG4gIGJvZHkucmVtb3ZlQ2hpbGQobW9kdWxlKTtcbn1cblxuLy8gYWRkcyB0aGUgdHVybiBpbmZvIG9mIGFueSBvdGhlciBlcnJvciBpc3N1ZVxuZnVuY3Rpb24gcmVuZGVySW5mbyhzdHJpbmcpIHtcbiAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWluZXJcIik7XG4gIGNvbnN0IGluZm8gPSBjcmVhdGVOZXdFbGVtZW50KFwiaDNcIiwgXCJ0dXJuSW5mb1wiLCBgJHtzdHJpbmd9YCk7XG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpbmZvKTtcbn1cblxuLy8gRXJhc2VzIGV2ZXJ5dGhpbmcgb24gcGFnZSBleGNlcHQgZm9yIHRoZSBIMSAnYmF0dGxlIHNoaXAnXG5mdW5jdGlvbiBlcmFzZVBhZ2VDb250ZW50KCkge1xuICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRhaW5lclwiKTtcbiAgd2hpbGUgKGNvbnRhaW5lci5maXJzdENoaWxkKSB7XG4gICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKGNvbnRhaW5lci5maXJzdEVsZW1lbnRDaGlsZCk7XG4gIH1cbn1cblxuLy8gY2xlYXJzIHRoZSBwYWdlLCB0aGVuIHJlbmRlcnMgYm90aCBwbGF5ZXJzIGJvYXJkc1xuZnVuY3Rpb24gcmVSZW5kZXJCb3RoQm9hcmRzKHN0cmluZykge1xuICBlcmFzZVBhZ2VDb250ZW50KCk7XG4gIHJlbmRlckluZm8oc3RyaW5nKTtcbiAgcmVuZGVyQm9hcmQoR2FtZUxvb3AucGxheWVyc1sxXSwgR2FtZUxvb3AucGxheWVyc1sxXS5odW1hbk9yQ29tcCk7XG4gIHJlbmRlckJvYXJkKEdhbWVMb29wLnBsYXllcnNbMF0sIEdhbWVMb29wLnBsYXllcnNbMF0uaHVtYW5PckNvbXApO1xufVxuXG5mdW5jdGlvbiBhZGRSZW1hdGNoQnV0dG9uKCkge1xuICBjb25zdCB0dXJuSW5mbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudHVybkluZm9cIik7XG4gIGNvbnN0IGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gIGJ0bi50ZXh0Q29udGVudCA9IFwiWWVzIVwiO1xuICBidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBlcmFzZVBhZ2VDb250ZW50KCk7XG4gICAgR2FtZUxvb3AubmV3R2FtZSgpO1xuICB9KTtcbiAgdHVybkluZm8uYXBwZW5kQ2hpbGQoYnRuKTtcbn1cblxuLy8gcmVuZGVycyBvbmUgcGxheWVycyBib2FyZFxuZnVuY3Rpb24gcmVuZGVyQm9hcmQocGxheWVyLCBodW1hbk9yQ29tcCkge1xuICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRhaW5lclwiKTtcbiAgY29uc3QgcGxheWVyQm9hcmRDb250YWluZXIgPSBjcmVhdGVOZXdFbGVtZW50KFwiZGl2XCIsIGAke2h1bWFuT3JDb21wfWAsIFwiIFwiKTtcbiAgY29uc3QgYm9hcmRDb250YWluZXIgPSBjcmVhdGVOZXdFbGVtZW50KFwiZGl2XCIsIGBncmlkaWZ5YCwgXCIgXCIpO1xuICBwbGF5ZXJCb2FyZENvbnRhaW5lci5hcHBlbmRDaGlsZChib2FyZENvbnRhaW5lcik7XG4gIHBsYXllci5nYW1lYm9hcmQuZ2FtZWJvYXJkLmZvckVhY2goKHJvdykgPT4ge1xuICAgIGNvbnN0IHJvd0RpdiA9IGNyZWF0ZU5ld0VsZW1lbnQoXCJkaXZcIiwgXCJyb3dcIiwgXCIgXCIpO1xuICAgIHJvdy5mb3JFYWNoKChjZWxsKSA9PiB7XG4gICAgICBjb25zdCBjZWxsRGl2ID0gY3JlYXRlTmV3RWxlbWVudChcImRpdlwiLCBgJHtodW1hbk9yQ29tcH1gLCBcIiBcIik7XG4gICAgICBjZWxsRGl2LmNsYXNzTGlzdC5hZGQoXCJjZWxsXCIpO1xuICAgICAgZm9yIChjb25zdCBwcm9wZXJ0eSBpbiBjZWxsKSB7XG4gICAgICAgIGNlbGxEaXYuc2V0QXR0cmlidXRlKGAke3Byb3BlcnR5fWAsIGAke2NlbGxbcHJvcGVydHldfWApO1xuICAgICAgfVxuICAgICAgcm93RGl2LmFwcGVuZENoaWxkKGNlbGxEaXYpO1xuICAgIH0pO1xuICAgIGJvYXJkQ29udGFpbmVyLmFwcGVuZENoaWxkKHJvd0Rpdik7XG4gIH0pO1xuICBwbGF5ZXJCb2FyZENvbnRhaW5lci5hcHBlbmRDaGlsZChcbiAgICBjcmVhdGVOZXdFbGVtZW50KFwiaDRcIiwgXCJib2FyZFRpdGxlXCIsIGBUaGlzIGlzICR7cGxheWVyLm5hbWV9J3MgYm9hcmRgKVxuICApO1xuICBjb250YWluZXIuYXBwZW5kQ2hpbGQocGxheWVyQm9hcmRDb250YWluZXIpO1xufVxuXG4vLyBlcmFzZXMgYWxsIGNvbnRlbnQgYW5kIGdldHMgcmVhZHkgZm9yIGEgbmV3IGdhbWVcbmZ1bmN0aW9uIGNyZWF0ZVN0YXJ0R2FtZVBhZ2UoKSB7XG4gIGVyYXNlUGFnZUNvbnRlbnQoKTtcbiAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWluZXJcIik7XG4gIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKTtcbiAgZm9ybS5tZXRob2QgPSBcInBvc3RcIjtcbiAgZm9ybS5hY3Rpb24gPSBcIlwiO1xuICBmb3JtLmlkID0gXCJwbGF5ZXIxXCI7XG4gIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGRpdi5jbGFzc0xpc3QuYWRkKFwicGxheWVyTmFtZVwiKTtcbiAgZGl2LmlubmVySFRNTCA9XG4gICAgJzxsYWJlbCBmb3I9XCJwbGF5ZXJcIiBwbGFjZWhvbGRlcj1cInBsYXllclwiIHJlcXVpcmVkPlBsYXllciAxIE5hbWU6PC9sYWJlbD48aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwicGxheWVyXCIgaWQ9XCJwbGF5ZXJcIiAvPic7XG4gIGZvcm0uYXBwZW5kQ2hpbGQoZGl2KTtcbiAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgYnV0dG9uLnR5cGUgPSBcInN1Ym1pdFwiO1xuICBidXR0b24uaW5uZXJIVE1MID0gXCJTdWJtaXRcIjtcbiAgZm9ybS5hcHBlbmRDaGlsZChidXR0b24pO1xuICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZm9ybSk7XG4gIGFsbEV2ZW50TGlzdGVuZXJzLmFkZFBsYXllcjFMaXN0ZW5lcigpO1xufVxuXG4vLyBjcmVhdGVzIGEgZmFuY3kgZWxlbWVudCB3aXRoIGNsYXNzIGFuZCBpbm50ZXJIVE1MIGltYmVkZGVkXG5mdW5jdGlvbiBjcmVhdGVOZXdFbGVtZW50KHR5cGUsIGFkZENsYXNzLCBpbm5lckhUTUwpIHtcbiAgY29uc3QgZG9tRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XG4gIGRvbUVsZW1lbnQuY2xhc3NMaXN0LmFkZChhZGRDbGFzcyk7XG4gIGRvbUVsZW1lbnQuaW5uZXJIVE1MID0gaW5uZXJIVE1MO1xuICByZXR1cm4gZG9tRWxlbWVudDtcbn1cblxuZXhwb3J0IHtcbiAgYWxsRXZlbnRMaXN0ZW5lcnMsXG4gIHJlbmRlckJvYXJkLFxuICBwbGFjZU5leHRTaGlwLFxuICBjcmVhdGVTdGFydEdhbWVQYWdlLFxuICByZVJlbmRlckJvdGhCb2FyZHMsXG4gIHJlbmRlckluZm8sXG4gIGFkZFJlbWF0Y2hCdXR0b24sXG59O1xuIiwiZnVuY3Rpb24gU2hpcChuYW1lLCBsZW5ndGgpIHtcbiAgcmV0dXJuIHtcbiAgICBuYW1lLFxuICAgIGxlbmd0aCxcbiAgICBsb2NhdGlvbnM6IFtdLFxuICAgIG51bUhpdHM6IDAsXG5cbiAgICBwbGFjZVNoaXAoc3RhcnRpbmdDZWxseSwgc3RhcnRpbmdDZWxseCwgYXhpcykge1xuICAgICAgc3RhcnRpbmdDZWxseSA9IE51bWJlcihzdGFydGluZ0NlbGx5KTtcbiAgICAgIHN0YXJ0aW5nQ2VsbHggPSBOdW1iZXIoc3RhcnRpbmdDZWxseCk7XG4gICAgICB0aGlzLmxvY2F0aW9ucy5wdXNoKHtcbiAgICAgICAgeF9heGlzOiBzdGFydGluZ0NlbGx4LFxuICAgICAgICB5X2F4aXM6IHN0YXJ0aW5nQ2VsbHksXG4gICAgICAgIGhpdDogZmFsc2UsXG4gICAgICAgIGNlbGw6IGAke3N0YXJ0aW5nQ2VsbHl9LSR7c3RhcnRpbmdDZWxseH1gLFxuICAgICAgfSk7XG4gICAgICBmdW5jdGlvbiBpbmNyZWFzZVhBeGlzKCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBsZXQgbmV3TG9jYXRpb24gPSB7XG4gICAgICAgICAgICB4X2F4aXM6IHN0YXJ0aW5nQ2VsbHggKyAxICogaSxcbiAgICAgICAgICAgIHlfYXhpczogc3RhcnRpbmdDZWxseSxcbiAgICAgICAgICAgIGhpdDogZmFsc2UsXG4gICAgICAgICAgICBjZWxsOiBgJHtzdGFydGluZ0NlbGx5fS0ke3N0YXJ0aW5nQ2VsbHggKyAxICogaX1gLFxuICAgICAgICAgIH07XG4gICAgICAgICAgdGhpcy5sb2NhdGlvbnMucHVzaChuZXdMb2NhdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGluY3JlYXNlWUF4aXMoKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGxldCBuZXdMb2NhdGlvbiA9IHtcbiAgICAgICAgICAgIHhfYXhpczogc3RhcnRpbmdDZWxseCxcbiAgICAgICAgICAgIHlfYXhpczogc3RhcnRpbmdDZWxseSArIDEgKiBpLFxuICAgICAgICAgICAgaGl0OiBmYWxzZSxcbiAgICAgICAgICAgIGNlbGw6IGAke3N0YXJ0aW5nQ2VsbHkgKyAxICogaX0tJHtzdGFydGluZ0NlbGx4fWAsXG4gICAgICAgICAgfTtcbiAgICAgICAgICB0aGlzLmxvY2F0aW9ucy5wdXNoKG5ld0xvY2F0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgYm91bmRpbmNyZWFzZVhBeGlzID0gaW5jcmVhc2VYQXhpcy5iaW5kKHRoaXMpO1xuICAgICAgY29uc3QgYm91bmRpbmNyZWFzZVlBeGlzID0gaW5jcmVhc2VZQXhpcy5iaW5kKHRoaXMpO1xuICAgICAgYXhpcyA9PT0gXCJ4XCIgPyBib3VuZGluY3JlYXNlWEF4aXMoKSA6IGJvdW5kaW5jcmVhc2VZQXhpcygpO1xuXG4gICAgICByZXR1cm4gdGhpcy5sb2NhdGlvbnM7XG4gICAgfSxcblxuICAgIGhpdChjZWxsSGl0WSwgY2VsbEhpdFgpIHtcbiAgICAgIHRoaXMubG9jYXRpb25zLmZvckVhY2goKGxvY2F0aW9uKSA9PiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBOdW1iZXIobG9jYXRpb24ueF9heGlzKSA9PT0gTnVtYmVyKGNlbGxIaXRYKSAmJlxuICAgICAgICAgIE51bWJlcihsb2NhdGlvbi55X2F4aXMpID09PSBOdW1iZXIoY2VsbEhpdFkpXG4gICAgICAgICkge1xuICAgICAgICAgIGxvY2F0aW9uLmhpdCA9IHRydWU7XG4gICAgICAgICAgdGhpcy5udW1IaXRzKys7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBpc1N1bmsoKSB7XG4gICAgICByZXR1cm4gdGhpcy5udW1IaXRzID09PSB0aGlzLmxlbmd0aDtcbiAgICB9LFxuICB9O1xufVxuXG5leHBvcnQgeyBTaGlwIH07XG4iLCJpbXBvcnQgeyBTaGlwIH0gZnJvbSBcIi4vc2hpcFwiO1xuXG4vLyBidWlsZHMgdGhlIGdhbWVib2FyZCBpbnNpZGUgdGhlIGdhbWVib2FyZCBmdW5jdGlvblxuZnVuY3Rpb24gYnVpbGRHYW1lYm9hcmQoKSB7XG4gIGNvbnN0IGdhbWVib2FyZCA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IDc7IGkrKykge1xuICAgIGNvbnN0IGJvYXJkUm93ID0gW107XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCA3OyBqKyspIHtcbiAgICAgIGNvbnN0IHRoaXNCb2FyZENlbGwgPSB7IGJvYXQ6IG51bGwsIHNob3RIZXJlOiBmYWxzZSwgY2VsbDogYCR7aX0tJHtqfWAgfTtcbiAgICAgIGJvYXJkUm93LnB1c2godGhpc0JvYXJkQ2VsbCk7XG4gICAgfVxuICAgIGdhbWVib2FyZC5wdXNoKGJvYXJkUm93KTtcbiAgfVxuICByZXR1cm4gZ2FtZWJvYXJkO1xufVxuXG4vLyBjaGVja3MgdGhlIGlucHV0IGZvciBzaGlwIHR5cGUgYW5kIGNoYW5nZXMgaXQgdG8gdGhlIHByb3BlciBpbmRleCBudW1iZXJcbmZ1bmN0aW9uIGdldFNoaXBJbmRleChzaGlwTmFtZSkge1xuICBsZXQgc2hpcEluZGV4O1xuICBzd2l0Y2ggKHNoaXBOYW1lKSB7XG4gICAgY2FzZSBcImNhcnJpZXJcIjpcbiAgICAgIHNoaXBJbmRleCA9IDA7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiYmF0dGxlc2hpcFwiOlxuICAgICAgc2hpcEluZGV4ID0gMTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJjcnVpc2VyXCI6XG4gICAgICBzaGlwSW5kZXggPSAyO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcInN1YlwiOlxuICAgICAgc2hpcEluZGV4ID0gMztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJwYXRyb2xCb2F0XCI6XG4gICAgICBzaGlwSW5kZXggPSA0O1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGNvbnNvbGUubG9nKFwiaW52YWxpZCBib2F0IG5hbWVcIik7XG4gIH1cbiAgcmV0dXJuIHNoaXBJbmRleDtcbn1cblxuLy8gZHVyaW5nIHBsYWNlIHNoaXAgaW4gZ2FtZWJvYXJkIHRoaXMgZnVuY3Rpb24gdXBkYXRlcyB0aGUgZ2FtZWJvYXJkIHdpdGggdGhlIHNoaXAgbG9jYXRpb25cbmZ1bmN0aW9uIHVwZGF0ZUdhbWVib2FyZFdpdGhOZXdTaGlwTG9jYXRpb24odGhpc0dhbWVib2FyZCwgc2hpcCkge1xuICBsZXQgcmV0dXJuR2FtZWJvYXJkID0gdGhpc0dhbWVib2FyZDtcbiAgc2hpcC5sb2NhdGlvbnMuZm9yRWFjaCgobG9jYXRpb24pID0+IHtcbiAgICByZXR1cm5HYW1lYm9hcmRbbG9jYXRpb24ueV9heGlzXVtsb2NhdGlvbi54X2F4aXNdLmJvYXQgPSBgJHtzaGlwLm5hbWV9YDtcbiAgfSk7XG4gIHJldHVybiByZXR1cm5HYW1lYm9hcmQ7XG59XG5cbi8vIHRoaXMgZnVuY3Rpb24gcnVucyB0aHJvdWdoIGFsbCBjZWxscyBpbiBnYW1lYm9hcmQgYW5kIGVuc3VyZXMgdGhlIGxvY2F0aW9uIHRoZSBzaGlwIGlzIGluIGlzIGEgdmFsaWQgbG9jYXRpb25cbmZ1bmN0aW9uIGNoZWNrVmFsaWRTaGlwTG9jYXRpb24oXG4gIGN1cnJlbnRHYW1lYm9hcmQsXG4gIG5ld1NoaXBTdGFydGluZ3ksXG4gIG5ld1NoaXBTdGFydGluZ3gsXG4gIGF4aXMsXG4gIG5ld1NoaXBTaXplXG4pIHtcbiAgbGV0IHZhbGlkTG9jYXRpb24gPSAwO1xuICBjb25zdCBuZXdTaGlwID0gbmV3IFNoaXAoXCJ0aGVUZXN0Qm9hdFwiLCBuZXdTaGlwU2l6ZSk7XG4gIG5ld1NoaXAucGxhY2VTaGlwKG5ld1NoaXBTdGFydGluZ3ksIG5ld1NoaXBTdGFydGluZ3gsIGF4aXMpO1xuICBjdXJyZW50R2FtZWJvYXJkLmZvckVhY2goKHJvdykgPT4ge1xuICAgIHJvdy5mb3JFYWNoKChjZWxsKSA9PiB7XG4gICAgICBuZXdTaGlwLmxvY2F0aW9ucy5mb3JFYWNoKChzaGlwTG9jYXRpb24pID0+IHtcbiAgICAgICAgaWYgKHNoaXBMb2NhdGlvbi5jZWxsID09PSBjZWxsLmNlbGwgJiYgY2VsbC5ib2F0ID09PSBudWxsKSB7XG4gICAgICAgICAgdmFsaWRMb2NhdGlvbisrO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIGlmICh2YWxpZExvY2F0aW9uICE9PSBuZXdTaGlwU2l6ZSkge1xuICAgIHJldHVybiBcImVycm9yXCI7XG4gIH1cbn1cblxuLy8gdGhlIG1haW4gR2FtZWJvYXJkIG9iamVjdFxuZnVuY3Rpb24gR2FtZWJvYXJkKG93bmVyKSB7XG4gIHJldHVybiB7XG4gICAgb3duZXIsXG4gICAgZ2FtZWJvYXJkOiBidWlsZEdhbWVib2FyZCgpLFxuICAgIHNoaXBzOiBbXG4gICAgICBuZXcgU2hpcChcImNhcnJpZXJcIiwgNSksXG4gICAgICBuZXcgU2hpcChcImJhdHRsZXNoaXBcIiwgNCksXG4gICAgICBuZXcgU2hpcChcImNydWlzZXJcIiwgMyksXG4gICAgICBuZXcgU2hpcChcInN1YlwiLCAzKSxcbiAgICAgIG5ldyBTaGlwKFwicGF0cm9sQm9hdFwiLCAyKSxcbiAgICBdLFxuXG4gICAgLy8gdGFrZXMgdGhlIG5hbWUgb2YgdGhlIHNoaXAsIDIgY28tb3JkaW5hdGVzLCBhbmQgYW4gYXhpcyBhbmQgcGxhY2VzIHNoaXAgdGhlcmVcbiAgICAvLyB1cGRhdGVzIHRoZSBnYW1lYm9hcmQgYW5kIHRoZSBzaGlwcyBsb2NhdGlvbnMgd2l0aCBuZXcgbG9jYXRpb25cbiAgICBwbGFjZVNoaXAoc2hpcE5hbWUsIHN0YXJ0aW5neSwgc3RhcnRpbmd4LCBheGlzKSB7XG4gICAgICBjb25zdCBzaGlwSW5kZXggPSBnZXRTaGlwSW5kZXgoc2hpcE5hbWUpO1xuICAgICAgaWYgKFxuICAgICAgICBjaGVja1ZhbGlkU2hpcExvY2F0aW9uKFxuICAgICAgICAgIHRoaXMuZ2FtZWJvYXJkLFxuICAgICAgICAgIHN0YXJ0aW5neSxcbiAgICAgICAgICBzdGFydGluZ3gsXG4gICAgICAgICAgYXhpcyxcbiAgICAgICAgICB0aGlzLnNoaXBzW3NoaXBJbmRleF0ubGVuZ3RoXG4gICAgICAgICkgPT09IFwiZXJyb3JcIlxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBcImVycm9yXCI7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHNoaXAgPSB0aGlzLnNoaXBzW3NoaXBJbmRleF07XG4gICAgICBzaGlwLnBsYWNlU2hpcChzdGFydGluZ3ksIHN0YXJ0aW5neCwgYXhpcyk7XG4gICAgICB0aGlzLmdhbWVib2FyZCA9IHVwZGF0ZUdhbWVib2FyZFdpdGhOZXdTaGlwTG9jYXRpb24odGhpcy5nYW1lYm9hcmQsIHNoaXApO1xuICAgIH0sXG5cbiAgICAvLyB0YWtlcyAyIGNvLW9yZGluYXRlcyBhbmQgdXBkYXRlcyBnYW1lYm9hcmQgd2l0aCBtaXNzIG9yIGhpdFxuICAgIHJlY2VpdmVBdHRhY2soeUF4aXMsIHhBeGlzKSB7XG4gICAgICB0aGlzLmdhbWVib2FyZFt5QXhpc11beEF4aXNdLnNob3RIZXJlID0gdHJ1ZTtcbiAgICAgIGlmICh0aGlzLmdhbWVib2FyZFt5QXhpc11beEF4aXNdLmJvYXQgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFwibWlzc2VkIVwiO1xuICAgICAgfVxuICAgICAgY29uc3QgYm9hdEluZGV4ID0gZ2V0U2hpcEluZGV4KHRoaXMuZ2FtZWJvYXJkW3lBeGlzXVt4QXhpc10uYm9hdCk7XG4gICAgICB0aGlzLnNoaXBzW2JvYXRJbmRleF0uaGl0KHlBeGlzLCB4QXhpcyk7XG4gICAgICByZXR1cm4gYGhpdCBhICR7dGhpcy5nYW1lYm9hcmRbeUF4aXNdW3hBeGlzXS5ib2F0fWA7XG4gICAgfSxcblxuICAgIC8vIGNoZWNrcyBhbGwgc2hpcHMgb24gdGhpcyBnYW1lYm9hcmQgd2hldGhlciB0aGV5IGFyZSBzdW5rIG9yIG5vdC5cbiAgICBhbGxTdW5rKCkge1xuICAgICAgbGV0IG51bWJlclN1bmsgPSAwO1xuICAgICAgdGhpcy5zaGlwcy5mb3JFYWNoKChzaGlwKSA9PiB7XG4gICAgICAgIGlmIChzaGlwLmlzU3VuaygpKSB7XG4gICAgICAgICAgbnVtYmVyU3VuaysrO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBudW1iZXJTdW5rID09PSA1O1xuICAgIH0sXG4gIH07XG59XG5leHBvcnQgeyBHYW1lYm9hcmQgfTtcbiIsImltcG9ydCB7IEdhbWVib2FyZCB9IGZyb20gXCIuL2dhbWVib2FyZFwiO1xuXG5mdW5jdGlvbiBQbGF5ZXIobmFtZSwgaHVtYW5PckNvbXApIHtcbiAgcmV0dXJuIHtcbiAgICBodW1hbk9yQ29tcCxcbiAgICBuYW1lLFxuICAgIGlzQWN0aXZlUGxheWVyOiBmYWxzZSxcbiAgICBnYW1lYm9hcmQ6IG5ldyBHYW1lYm9hcmQobmFtZSksXG4gICAgLy8gdGFrZXMgdGhlIG9wb25lbnQsIGFuZCBhdHRhY2tzIHRoZWlyIGdhbWVib2FyZCB3aXRoIDIgY28tb2RpbmF0ZXNcbiAgICBhdHRhY2soZW5lbXksIGF0dGFja1lBeGlzLCBhdHRhY2tYYXhpcykge1xuICAgICAgcmV0dXJuIGVuZW15LmdhbWVib2FyZC5yZWNlaXZlQXR0YWNrKGF0dGFja1lBeGlzLCBhdHRhY2tYYXhpcyk7XG4gICAgfSxcblxuICAgIC8vIGp1c3QgZm9yIGNvbXB1dGVycywgdGFrZXMgYSBsaXN0IG9mIGF2YWlsYWJsZSBtb3ZlcyBhbmQgYXRhY2tzIGl0IHJhbmRvbWx5XG4gICAgcmFuZG9tTW92ZShlbmVteSkge1xuICAgICAgY29uc3QgYXZhaWxhYmxlTW92ZXMgPSBbXTtcbiAgICAgIGVuZW15LmdhbWVib2FyZC5nYW1lYm9hcmQuZm9yRWFjaCgocm93KSA9PiB7XG4gICAgICAgIHJvdy5mb3JFYWNoKChjZWxsKSA9PiB7XG4gICAgICAgICAgaWYgKGNlbGwuc2hvdEhlcmUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBhdmFpbGFibGVNb3Zlcy5wdXNoKGNlbGwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHJhbmRvbU51bSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGF2YWlsYWJsZU1vdmVzLmxlbmd0aCk7XG4gICAgICBjb25zdCB0aGlzTW92ZSA9IGF2YWlsYWJsZU1vdmVzW3JhbmRvbU51bV07XG5cbiAgICAgIGNvbnN0IHlWYWx1ZSA9IHRoaXNNb3ZlLmNlbGxbMF07XG4gICAgICBjb25zdCB4VmFsdWUgPSB0aGlzTW92ZS5jZWxsWzJdO1xuICAgICAgcmV0dXJuIHRoaXMuYXR0YWNrKGVuZW15LCB5VmFsdWUsIHhWYWx1ZSk7XG4gICAgfSxcbiAgfTtcbn1cblxuZXhwb3J0IHsgUGxheWVyIH07XG4iLCJpbXBvcnQge1xuICBhbGxFdmVudExpc3RlbmVycyxcbiAgY3JlYXRlU3RhcnRHYW1lUGFnZSxcbiAgcmVSZW5kZXJCb3RoQm9hcmRzLFxuICBhZGRSZW1hdGNoQnV0dG9uLFxufSBmcm9tIFwiLi9kb21TdHVmZlwiO1xuaW1wb3J0IHsgcmFuZG9tU2hpcFBsYWNlciB9IGZyb20gXCIuL3BsYWNlU2hpcHNcIjtcbmltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL3BsYXllclwiO1xuXG5jb25zdCBIZWxwZXJGdW5jdGlvbnMgPSB7XG4gIGNyZWF0ZVBsYXllcnMocGxheWVyMU5hbWUsIHBsYXllcjJOYW1lKSB7XG4gICAgY29uc3QgcGxheWVyMSA9IG5ldyBQbGF5ZXIocGxheWVyMU5hbWUsIFwiaHVtYW5cIik7XG4gICAgY29uc3QgcGxheWVyMiA9IG5ldyBQbGF5ZXIocGxheWVyMk5hbWUsIFwiY29tcHV0ZXJcIik7XG4gICAgY29uc3QgcGxheWVycyA9IFtwbGF5ZXIxLCBwbGF5ZXIyXTtcbiAgICByZXR1cm4gcGxheWVycztcbiAgfSxcbn07XG5cbmNvbnN0IEdhbWVMb29wID0ge1xuICBwbGF5ZXJzOiBbXSxcblxuICAvLyBwcmVwcyBmb3IgYSBuZXcgZ2FtZVxuICBuZXdHYW1lKCkge1xuICAgIHRoaXMucGxheWVycyA9IFtdO1xuICAgIGNyZWF0ZVN0YXJ0R2FtZVBhZ2UoKTtcbiAgfSxcblxuICAvLyBvbmNlIHlvdSBoYXZlIHBsYXllciBuYW1lIGFuZCBzaGlwIGxvY2F0aW9ucyBzdGFydCBhIG5ldyBnYW1lXG4gIHN0YXJ0R2FtZSgpIHtcbiAgICByZVJlbmRlckJvdGhCb2FyZHMoYENsaWNrIGEgY2VsbCBvbiB0aGUgZW5lbXkgR2FtZWJvYXJkIHRvIGF0dGFjayFgKTtcbiAgICB0aGlzLnRha2VUdXJuKHRoaXMucGxheWVyc1swXSk7XG4gIH0sXG5cbiAgLy8gc2V0cyB1cCB0aGUgcGxheWVyc1xuICBzZXRQbGF5ZXJzKHBsYXllcjFOYW1lKSB7XG4gICAgY29uc3QgbmV3UGxheWVycyA9IEhlbHBlckZ1bmN0aW9ucy5jcmVhdGVQbGF5ZXJzKHBsYXllcjFOYW1lLCBcIlRoZSBFbmVteVwiKTtcbiAgICB0aGlzLnBsYXllcnMgPSBuZXdQbGF5ZXJzO1xuICAgIHRoaXMucGxheWVyc1sxXS5nYW1lYm9hcmQuc2hpcHMuZm9yRWFjaCgoc2hpcCkgPT4ge1xuICAgICAgcmFuZG9tU2hpcFBsYWNlcih0aGlzLnBsYXllcnNbMV0sIHNoaXAubmFtZSk7XG4gICAgfSk7XG4gIH0sXG5cbiAgLy8gdGFrZXMgdGhlIHR1cm4gb2YgdGhlIHBsYXllciBsaXN0ZWRcbiAgdGFrZVR1cm4ocGxheWVyKSB7XG4gICAgaWYgKHRoaXMuY2hlY2tGb3JPdGhlclBsYXllcldpbihwbGF5ZXIpID09PSBcIm5vIHdpbm5lclwiKSB7XG4gICAgICBpZiAocGxheWVyLmh1bWFuT3JDb21wID09PSBcImh1bWFuXCIpIHtcbiAgICAgICAgYWxsRXZlbnRMaXN0ZW5lcnMuYWRkQXR0YWNrTGlzdGVuZXIoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHN0cmluZyA9IHBsYXllci5yYW5kb21Nb3ZlKHRoaXMucGxheWVyc1swXSk7XG4gICAgICAgIHJlUmVuZGVyQm90aEJvYXJkcyhgVGhlIGVuZW15IHNob3QgYW5kICR7c3RyaW5nfWApO1xuICAgICAgICB0aGlzLnRha2VUdXJuKHRoaXMucGxheWVyc1swXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlUmVuZGVyQm90aEJvYXJkcyh0aGlzLmNoZWNrRm9yT3RoZXJQbGF5ZXJXaW4ocGxheWVyKSk7XG4gICAgICBhZGRSZW1hdGNoQnV0dG9uKCk7XG4gICAgfVxuICB9LFxuICAvLyBvbiBzdGFydCBvZiB0dXJuLCBjaGVja3MgdG8gc2VlIGlmIHRoaXMgcGxheWVyIGhhcyBsb3N0IGZyb20gdGhlIHByZXZpb3VzIHBsYXllcnMgbW92ZVxuICBjaGVja0Zvck90aGVyUGxheWVyV2luKGN1cnJlbnRQbGF5ZXIpIHtcbiAgICBpZiAoY3VycmVudFBsYXllci5nYW1lYm9hcmQuYWxsU3VuaygpID09PSB0cnVlKSB7XG4gICAgICBjb25zdCB3aW5uZXIgPVxuICAgICAgICB0aGlzLnBsYXllcnMuaW5kZXhPZihjdXJyZW50UGxheWVyKSA9PT0gMFxuICAgICAgICAgID8gdGhpcy5wbGF5ZXJzWzFdXG4gICAgICAgICAgOiB0aGlzLnBsYXllcnNbMF07XG4gICAgICByZXR1cm4gYCR7d2lubmVyLm5hbWV9IHdvbiB0aGUgZ2FtZSEgV291bGQgeW91IGxpa2UgYSByZW1hdGNoP2A7XG4gICAgfVxuICAgIHJldHVybiBcIm5vIHdpbm5lclwiO1xuICB9LFxufTtcblxuZXhwb3J0IHsgR2FtZUxvb3AgfTtcbiIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuc2Nzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLnNjc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJpbXBvcnQgeyBHYW1lTG9vcCB9IGZyb20gXCIuL3NjcmlwdHMvZ2FtZUxvb3BcIjtcbmltcG9ydCBcIi4vc3R5bGUuc2Nzc1wiO1xuXG5HYW1lTG9vcC5uZXdHYW1lKCk7XG5cbi8qIFRvIGRvIExpc3RcblxuXG5cblxuXG5tYWtlIGl0IHByZXR0aWVyXG5cbm1ha2UgY29tcHV0ZXIgYXR0YWNrIHNtYXJ0ZXIuLi4/XG5cbiovXG4iXSwibmFtZXMiOlsiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJwdXNoIiwibW9kdWxlIiwiaWQiLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsIm5lZWRMYXllciIsImNvbmNhdCIsImxlbmd0aCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhIiwiZGVkdXBlIiwic3VwcG9ydHMiLCJsYXllciIsInVuZGVmaW5lZCIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJrIiwiX2siLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290Iiwic3R5bGVzSW5ET00iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXhCeUlkZW50aWZpZXIiLCJvYmoiLCJjc3MiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZEVsZW1lbnRTdHlsZSIsImJ5SW5kZXgiLCJzcGxpY2UiLCJhcGkiLCJkb21BUEkiLCJ1cGRhdGUiLCJuZXdPYmoiLCJyZW1vdmUiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwiaW5kZXgiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsIm1lbW8iLCJpbnNlcnQiLCJzdHlsZSIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsImdldFRhcmdldCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJlbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwic3R5bGVFbGVtZW50Iiwibm9uY2UiLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZVRhZ1RyYW5zZm9ybSIsImFwcGx5IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlU3R5bGVFbGVtZW50Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJmaXJzdENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIm5jIiwicmVuZGVyU2hpcE1vZHVsZSIsInNoaXBUb1BsYWNlIiwiYm9keSIsIm1vZHVsZUJhY2tncm91bmQiLCJjcmVhdGVOZXdFbGVtZW50IiwicmVuZGVyT2JqZWN0IiwicGxheWVyIiwicGxheWVyQm9hcmRDb250YWluZXIiLCJib2FyZENvbnRhaW5lciIsImdhbWVib2FyZCIsImZvckVhY2giLCJyb3ciLCJyb3dEaXYiLCJjZWxsIiwiY2VsbERpdiIsImNsYXNzTGlzdCIsImFkZCIsInByb3BlcnR5IiwiYnVpbGRQbGFjZW1lbnRCb2FyZCIsIkdhbWVMb29wIiwicGxheWVycyIsIm5hbWUiLCJzaGlwVG9QbGFjZUlubmVySHRtbCIsInNoaXBOYW1lIiwiYWRkRXZlbnRMaXN0ZW5lciIsInlWYWx1ZSIsInZhbHVlIiwieFZhbHVlIiwiYXhpcyIsImNvbnRhaW5zIiwicGxhY2VTaGlwIiwidGV4dENvbnRlbnQiLCJwbGFjZU5leHRTaGlwIiwidG9nZ2xlIiwicm90YXRlU2hpcCIsInJvdGF0ZUV2ZW50TGlzdGVuZXIiLCJEb21JdGVtVG9SZW5kZXIiLCJ3aGVyZVRvUmVuZGVyIiwidHlwZSIsImFkZENsYXNzIiwiaW5uZXJIVE1MIiwiZG9tRWxlbWVudCIsInJhbmRvbVNoaXBQbGFjZXIiLCJyYW5kb21ZVmFsdWUiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJyYW5kb21YVmFsdWUiLCJyYW5kb21BeGlzIiwiYWxsRXZlbnRMaXN0ZW5lcnMiLCJ0ZXN0IiwiYWRkUGxheWVyMUxpc3RlbmVyIiwicGxheWVyRm9ybSIsImdldEVsZW1lbnRCeUlkIiwicHJldmVudERlZmF1bHQiLCJwbGF5ZXIxIiwiRm9ybURhdGEiLCJzZXRQbGF5ZXJzIiwiZXJhc2VQYWdlQ29udGVudCIsImFkZEF0dGFja0xpc3RlbmVyIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJzdHJpbmciLCJhdHRhY2siLCJyZVJlbmRlckJvdGhCb2FyZHMiLCJzZXRUaW1lb3V0IiwidGFrZVR1cm4iLCJzaGlwcyIsImxvY2F0aW9ucyIsImVyYXNlTW9kdWxlIiwic3RhcnRHYW1lIiwiY29udGFpbmVyIiwiaW5mbyIsInJlbmRlckluZm8iLCJyZW5kZXJCb2FyZCIsImh1bWFuT3JDb21wIiwiU2hpcCIsIm51bUhpdHMiLCJzdGFydGluZ0NlbGx5Iiwic3RhcnRpbmdDZWxseCIsIk51bWJlciIsInhfYXhpcyIsInlfYXhpcyIsImhpdCIsImJvdW5kaW5jcmVhc2VYQXhpcyIsIm5ld0xvY2F0aW9uIiwiYmluZCIsImJvdW5kaW5jcmVhc2VZQXhpcyIsImNlbGxIaXRZIiwiY2VsbEhpdFgiLCJsb2NhdGlvbiIsImlzU3VuayIsImJ1aWxkR2FtZWJvYXJkIiwiYm9hcmRSb3ciLCJqIiwidGhpc0JvYXJkQ2VsbCIsImJvYXQiLCJzaG90SGVyZSIsImdldFNoaXBJbmRleCIsInNoaXBJbmRleCIsImNvbnNvbGUiLCJsb2ciLCJHYW1lYm9hcmQiLCJvd25lciIsInN0YXJ0aW5neSIsInN0YXJ0aW5neCIsImN1cnJlbnRHYW1lYm9hcmQiLCJuZXdTaGlwU3RhcnRpbmd5IiwibmV3U2hpcFN0YXJ0aW5neCIsIm5ld1NoaXBTaXplIiwidmFsaWRMb2NhdGlvbiIsIm5ld1NoaXAiLCJzaGlwTG9jYXRpb24iLCJjaGVja1ZhbGlkU2hpcExvY2F0aW9uIiwic2hpcCIsInRoaXNHYW1lYm9hcmQiLCJyZXR1cm5HYW1lYm9hcmQiLCJ1cGRhdGVHYW1lYm9hcmRXaXRoTmV3U2hpcExvY2F0aW9uIiwicmVjZWl2ZUF0dGFjayIsInlBeGlzIiwieEF4aXMiLCJib2F0SW5kZXgiLCJhbGxTdW5rIiwibnVtYmVyU3VuayIsIlBsYXllciIsImlzQWN0aXZlUGxheWVyIiwiZW5lbXkiLCJhdHRhY2tZQXhpcyIsImF0dGFja1hheGlzIiwicmFuZG9tTW92ZSIsImF2YWlsYWJsZU1vdmVzIiwicmFuZG9tTnVtIiwidGhpc01vdmUiLCJIZWxwZXJGdW5jdGlvbnMiLCJwbGF5ZXIxTmFtZSIsInBsYXllcjJOYW1lIiwibmV3R2FtZSIsImZvcm0iLCJtZXRob2QiLCJhY3Rpb24iLCJkaXYiLCJidXR0b24iLCJjcmVhdGVTdGFydEdhbWVQYWdlIiwibmV3UGxheWVycyIsImNoZWNrRm9yT3RoZXJQbGF5ZXJXaW4iLCJ0dXJuSW5mbyIsImJ0biIsImFkZFJlbWF0Y2hCdXR0b24iLCJjdXJyZW50UGxheWVyIiwid2lubmVyIiwiaW5kZXhPZiJdLCJzb3VyY2VSb290IjoiIn0=